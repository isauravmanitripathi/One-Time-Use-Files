<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
 </head>
 <body>
  <h2>
   <b>
    Fundamental Theorem of Asset Pricing
   </b>
  </h2>
  <p block-type="Text">
   Consider a financial market modeled by a price process
   <i>
    S
   </i>
   on an underlying probability space
   <i>
    (,
   </i>
   F
   <i>
    , )
   </i>
   . The
   <i>
    fundamental theorem of asset pricing
   </i>
   , which is one of the pillars supporting the modern theory of Mathematical Finance, states that the following two statements are
   <i>
    essentially
   </i>
   equivalent:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     1.
     <i>
      S
     </i>
     does not allow for arbitrage (NA).
    </li>
    <li block-type="ListItem">
     2. There exists a probability measure
     <i>
      Q
     </i>
     on the underlying probability space
     <i>
      (,
     </i>
     F
     <i>
      , )
     </i>
     , which is equivalent to  and under which the process is a martingale.
    </li>
   </ul>
  </p>
  <p block-type="Text">
   We have formulated this theorem in vague terms, which will be made precise in the sequel: we formulate versions of this theorem that use precise definitions and avoid the use of the word
   <i>
    essentially
   </i>
   .
  </p>
  <p block-type="TextInlineMath">
   The story of this theorem started—like most of modern Mathematical Finance—with the work of Black (
   <i>
    see
   </i>
   <b>
    Black, Fischer
   </b>
   ), Scholes [3], and Merton (
   <i>
    see
   </i>
   <b>
    Merton, Robert C.
   </b>
   ) [25]. These authors consider a model
   <i>
    S
   </i>
   =
   <i>
    (St)
   </i>
   0≤
   <i>
    t
   </i>
   ≤
   <i>
    <sup>
     T
    </sup>
   </i>
   of geometric Brownian motion proposed by Samuelson (
   <i>
    see
   </i>
   <b>
    Samuelson, Paul A.
   </b>
   ) [30], which is widely known today as the Black–Scholes model. Presumably every reader of this article is familiar with the well-known technique to price options in this framework (
   <i>
    see
   </i>
   <b>
    Risk-neutral Pricing
   </b>
   ): one changes the underlying measure  to an equivalent measure
   <i>
    Q
   </i>
   under which the discounted stock price process is a martingale. Subsequently, one prices options (and other derivatives) by simply taking expectations with respect to this "risk neutral" or "martingale" measure
   <i>
    Q
   </i>
   .
  </p>
  <p block-type="TextInlineMath">
   In fact, this technique was
   <i>
    not
   </i>
   the novel feature of [3, 25]. It was used by actuaries for some centuries and it was also used by Bachelier [2] in 1900 who considered Brownian motion (which, of course, is a martingale) as a model
   <i>
    S
   </i>
   =
   <i>
    (St)
   </i>
   0≤
   <i>
    t
   </i>
   ≤
   <i>
    <sup>
     T
    </sup>
   </i>
   of a stock price process. In fact, the prices obtained by Bachelier (
   <i>
    see
   </i>
   <b>
    Bachelier, Louis (1870–1946)
   </b>
   ) by this method were—at least for the empirical data considered by Bachelier himself —very close to those derived from the celebrated Black–Merton–Scholes formula ([34]).
  </p>
  <p block-type="Text">
   The decisive
   <i>
    novel feature
   </i>
   of the Black–Merton– Scholes approach was the argument that links this pricing technique with the notion of arbitrage: the payoff function of an option can be precisely
   <i>
    replicated
   </i>
   by trading dynamically in the underlying stock. This idea, which is credited in footnote 3 of [3] to Merton, opened a completely new perspective on how to deal with options, as it linked the pricing issue with the idea of hedging, that is, dynamically trading in the underlying asset.
  </p>
  <p block-type="Text">
   The technique of replicating an option is completely absent in Bachelier's early work; apparently, the idea of "spanning" a market by forming linear combinations of primitive assets first appears in the Economics literature in the classic paper by Arrow (
   <i>
    see
   </i>
   <b>
    Arrow, Kenneth
   </b>
   ) [1]. The mathematically delightful situation, that the market is complete in the sense that all derivatives can be replicated, occurs in the Black–Scholes model as well as in Bachelier's original model of Brownian motion (
   <i>
    see
   </i>
   <b>
    Second Fundamental Theorem of Asset Pricing
   </b>
   ). Another example of a model in continuous time sharing this property is the compensated Poisson process, as observed by Cox and Ross (
   <i>
    see
   </i>
   <b>
    Ross, Stephen
   </b>
   ) [4]. Roughly speaking, these are the only models in continuous time sharing this seducingly beautiful "martingale representation property" (see [16, 39] for a precise statement on the uniqueness of these families of models).
  </p>
  <p block-type="Text">
   Appealing as it might be, the consideration of "complete markets" as above is somewhat dangerous from an economic point of view: the precise replicability of options, which is a sound mathematical theorem in the framework of the above models, may lead to the illusion that this is also true in economic reality. However, these models are far from matching reality in a one-to-one manner. Rather they only highlight important aspects of reality and therefore should not be considered as ubiquitously appropriate.
  </p>
  <p block-type="Text">
   For many purposes, it is of crucial importance to put oneself into a more general modeling framework.
  </p>
  <p block-type="Text">
   When the merits as well as the limitations of the Black–Merton–Scholes approach unfolded in the late 1970s, the investigations on the fundamental theorem of asset pricing started. As Harrison and Pliska formulate it in their classic paper [15]: "it was a desire to better understand their formula which originally motivated our study,
   <i>
    ...
   </i>
   ".
  </p>
  <p block-type="Text" class="has-continuation">
   The challenge was to obtain a deeper insight into the relation of the following two aspects: on
  </p>
  <p block-type="Text">
   one hand, the methodology of pricing by taking expectations with respect to a properly chosen "risk neutral" or "martingale" measure
   <math display="inline">
    Q
   </math>
   ; on the other hand, the methodology of pricing by "no arbitrage" considerations. Why, after all, do these two seemingly unrelated approaches yield identical results in the Black-Merton-Scholes approach? Maybe even more importantly: how far can this phenomenon be extended to more involved models?
  </p>
  <p block-type="TextInlineMath">
   To the best of the author's knowledge, the first person to take up these questions in a systematic way was Ross (see
   <b>
    Ross, Stephen
   </b>
   ) [29]; see also [4, 27, 28]. He chose the following setting to formalize the situation: fix a topological, ordered vector space
   <math display="inline">
    (X, \tau)
   </math>
   , modeling the possible cash flows (e.g., the payoff function of an option) at a fixed time horizon T. A good choice is, for example,
   <math display="inline">
    X = L^p(\Omega, \mathcal{F}, \mathbb{P}),
   </math>
   where
   <math display="inline">
    1 \leq p \leq \infty
   </math>
   and
   <math display="inline">
    (\Omega, \mathcal{F}, (\mathcal{F}_t)_{0 \leq t \leq T}, \mathbb{P})
   </math>
   is the underlying filtered probability space. The set of marketed assets
   <math display="inline">
    M
   </math>
   is a subspace of
   <math display="inline">
    X
   </math>
   .
  </p>
  <p block-type="TextInlineMath">
   In the context of a stock price process
   <math display="inline">
    S =
   </math>
   <math display="inline">
    (S_t)_{0 \le t \le T}
   </math>
   as above, one might think of
   <i>
    M
   </i>
   as all the outcomes of an initial investment
   <math display="inline">
    x \in \mathbb{R}
   </math>
   plus the result of subsequent trading according to a predictable trading strategy
   <math display="inline">
    H = (H_t)_{0 \le t \le T}
   </math>
   . This yields (in discounted terms) an element
  </p>
  <p block-type="Equation">
   <math display="block">
    m = x + \int_0^T H_t \mathrm{d}S_t \tag{1}
   </math>
  </p>
  <p block-type="TextInlineMath">
   in the set
   <math display="inline">
    M
   </math>
   of marketed claims. It is natural to price the above claim m by setting
   <math display="inline">
    \pi(m) = x
   </math>
   , as this is the net investment necessary to finance the above claim
   <math display="inline">
    m
   </math>
   .
  </p>
  <p block-type="TextInlineMath">
   For notational convenience, we shall assume in the sequel that
   <math display="inline">
    S
   </math>
   is a one-dimensional process. It is straightforward to generalize to the case of
   <math display="inline">
    d
   </math>
   risky assets by assuming that S is
   <math display="inline">
    \mathbb{R}^d
   </math>
   -valued and replacing the above integral by
  </p>
  <p block-type="Equation">
   <math display="block">
    m = x + \int_0^T \sum_{i=1}^d H_t^i \mathrm{d}S_t^i \tag{2}
   </math>
  </p>
  <p block-type="TextInlineMath" class="has-continuation">
   Some words of warning about the stochastic integral (1) seem necessary. The precise admissibility conditions, which should be imposed on the stochastic integral (1), in order to make sense both mathematically as well as economically, are a subtle issue. Much of the early literature on the fundamental theorem of asset pricing struggled exactly with this
  </p>
  <p block-type="TextInlineMath">
   question. An excellent reference is [14]. Ross [29] circumvented this problem by deliberately leaving this issue aside and simply starting with the modeling assumption that the subset
   <math display="inline">
    M \subseteq X
   </math>
   as well as a pricing operator
   <math display="inline">
    \pi : M \to \mathbb{R}
   </math>
   are given.
  </p>
  <p block-type="TextInlineMath">
   Let us now formalize the notion of arbitrage. In the above setting, we say that the
   <b>
    no arbitrage
   </b>
   assumption is satisfied if, for
   <math display="inline">
    m \in M
   </math>
   , satisfying
   <math display="inline">
    m &gt; 0
   </math>
   ,
   <math display="inline">
    \mathbb{P}
   </math>
   -a.s. and
   <math display="inline">
    \mathbb{P}[m &gt; 0] &gt; 0
   </math>
   , we have
   <math display="inline">
    \pi(m) &gt; 0
   </math>
   0. In prose, this means that it is not possible to find a claim
   <math display="inline">
    m \in M
   </math>
   , which bears no risk (as
   <math display="inline">
    m &gt; 0
   </math>
   ,
   <math display="inline">
    \mathbb{P}
   </math>
   -a.s.), yields some gain with strictly positive probability (as
   <math display="inline">
    \mathbb{P}[m&gt;0]&gt;0
   </math>
   , and such that its price
   <math display="inline">
    \pi(m)
   </math>
   is less than or equal to zero.
  </p>
  <p block-type="TextInlineMath">
   The question that now arises is whether it is possible to extend
   <math display="inline">
    \pi: M \to \mathbb{R}
   </math>
   to a nonnegative, continuous linear functional
   <math display="inline">
    \pi^*: X \to \mathbb{R}
   </math>
   .
  </p>
  <p block-type="TextInlineMath">
   What does this have to do with the issue of martingale measures? This theme was developed in detail by Harrison and Kreps [14]. Suppose that
   <math display="inline">
    X = L^p(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   for some
   <math display="inline">
    1 \le p &lt; \infty
   </math>
   , that the price process
   <math display="inline">
    S = (S_t)_{0 \le t \le T}
   </math>
   satisfies
   <math display="inline">
    S_t \in X
   </math>
   , for each
   <math display="inline">
    0 \le t \le T
   </math>
   , and that
   <i>
    M
   </i>
   contains (at least) the "simple integrals" on the process
   <math display="inline">
    S = (S_t)_{0 \le t \le T}
   </math>
   of the form
  </p>
  <p block-type="Equation">
   <math display="block">
    m = x + \sum_{i=1}^{n} H_i (S_{t_i} - S_{t_{i-1}})
   </math>
   (3)
  </p>
  <p block-type="TextInlineMath">
   Here
   <math display="inline">
    x \in \mathbb{R}
   </math>
   ,
   <math display="inline">
    0 = t_0 &lt; t_1 &lt; \ldots &lt; t_n = T
   </math>
   and
   <math display="inline">
    (H_i)_{i=1}^n
   </math>
   is a (say) bounded process which is pre
   <i>
    dictable
   </i>
   , that is,
   <math display="inline">
    H_i
   </math>
   is
   <math display="inline">
    \mathcal{F}_{t_{i-1}}
   </math>
   -measurable. The sums in equation (3) are the Riemann sums corresponding to the stochastic integrals (1). The Riemann sums (3) have a clear-cut economic interpretation [14]. In equation
   <math display="inline">
    (3)
   </math>
   we do not have to bother about subtle convergence issues as only finite sums are involved in the definition. It is therefore a traditional (minimal) requirement that the Riemann sums of the form (3) are in the space
   <math display="inline">
    M
   </math>
   of marketed claims; naturally, the price of a claim
   <math display="inline">
    m
   </math>
   of the form (3) should be defined as
   <math display="inline">
    \pi(m) = x
   </math>
   .
  </p>
  <p block-type="TextInlineMath">
   Now suppose that the functional
   <math display="inline">
    \pi
   </math>
   , which is defined for the claims of the form
   <math display="inline">
    (3)
   </math>
   can be extended to a continuous, nonnegative functional
   <math display="inline">
    \pi^*
   </math>
   defined on
   <math display="inline">
    X = L^p(\Omega, \mathcal{F}, \mathbb{P}).
   </math>
   If such an extension
   <math display="inline">
    \pi^*
   </math>
   exists, it is induced by some function
   <math display="inline">
    g \in L^q(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   , where
   <math display="inline">
    \frac{1}{p} + \frac{1}{q} = 1
   </math>
   . The nonnegativity of
   <math display="inline">
    \pi^*
   </math>
   is tantamount to
   <math display="inline">
    g \ge 0
   </math>
   ,
   <math display="inline">
    \mathbb{P}
   </math>
   -a.s., and the fact that
   <math display="inline">
    \pi^*(1) = 1
   </math>
   shows that
   <math display="inline">
    g
   </math>
   is the density of a probability measure
   <math display="inline">
    Q
   </math>
   with Radon–Nikodym derivative
   <math display="inline">
    \frac{dQ}{dP} = g
   </math>
   .
  </p>
  <p block-type="TextInlineMath">
   If we can find such an extension
   <math display="inline">
    \pi^*
   </math>
   of
   <math display="inline">
    \pi
   </math>
   , we thus find a probability measure O on
   <math display="inline">
    (\Omega, \mathcal{F}, \mathbb{P})
   </math>
   for which
  </p>
  <p block-type="Equation">
   <math display="block">
    \pi^* \left( \sum_{i=1}^n H_i \left( S_{t_i} - S_{t_{i-1}} \right) \right) = \mathbb{E}_{\mathcal{Q}} \left[ \sum_{i=1}^n H_i (S_{t_i} - S_{t_{i-1}}) \right]
   </math>
   (4)
  </p>
  <p block-type="TextInlineMath">
   for every bounded predictable process
   <math display="inline">
    H = (H_i)_{i=1}^n
   </math>
   as above, which is tantamount to
   <math display="inline">
    (S_t)_{0 \le t \le T}
   </math>
   being a martingale (see [Th. 2] [14], or [Lemma 2.2.6] [11]).
  </p>
  <p block-type="TextInlineMath">
   To sum up, in the case
   <math display="inline">
    1 \le p &lt; \infty
   </math>
   , finding a continuous, nonnegative extension
   <math display="inline">
    \pi^*: L^p(\Omega, \mathcal{F}, \mathbb{P}) \to
   </math>
   <math display="inline">
    \mathbb{R}
   </math>
   of
   <math display="inline">
    \pi
   </math>
   amounts to finding a
   <math display="inline">
    \mathbb{P}
   </math>
   -absolutely continuous measure
   <math display="inline">
    Q
   </math>
   with
   <math display="inline">
    \frac{dQ}{dP} \in L^q
   </math>
   and such that
   <math display="inline">
    (S_t)_{0 \le t \le T}
   </math>
   is a martingale under
   <math display="inline">
    Q
   </math>
   .
  </p>
  <p block-type="Text">
   At this stage, it becomes clear that in order to find such an extension
   <math display="inline">
    \pi^*
   </math>
   of
   <math display="inline">
    \pi
   </math>
   , the Hahn-Banach theorem should come into play in some form, for example, in one of the versions of the separating hyperplane theorem.
  </p>
  <p block-type="TextInlineMath">
   In order to be able to do so, Ross assumes ([p. 472] [29]) that "...we will endow
   <math display="inline">
    X
   </math>
   with a strong enough topology to insure that the positive orthant
   <math display="inline">
    \{x \in X | x &gt; 0\}
   </math>
   is an open set, ...". In practice, the only infinite-dimensional ordered topological vector space
   <math display="inline">
    X
   </math>
   , such that the positive orthant has nonempty interior, is
   <math display="inline">
    X = L^{\infty}(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   , endowed with the topology induced by
   <math display="inline">
    \|.\|_{\infty}
   </math>
   .
  </p>
  <p block-type="TextInlineMath">
   Hence the two important cases, applying to Ross' hypothesis, are when either the probability space
   <math display="inline">
    \Omega
   </math>
   is finite, so that
   <math display="inline">
    X = L^p(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   simply is finite dimensional and its topology does not depend on
   <math display="inline">
    1 \leq p \leq \infty
   </math>
   , or if
   <math display="inline">
    (\Omega, \mathcal{F}, \mathbb{P})
   </math>
   is infinite and
   <math display="inline">
    X =
   </math>
   <math display="inline">
    L^{\infty}(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   equipped with the norm
   <math display="inline">
    \|.\|_{\infty}
   </math>
   .
  </p>
  <p block-type="TextInlineMath">
   After these preparations we can identify the two convex sets to be separated: let
   <math display="inline">
    A = \{m \in M :
   </math>
   <math display="inline">
    \pi(m) &lt; 0
   </math>
   and B be the interior of the positive cone of
   <math display="inline">
    X
   </math>
   . Now make the easy, but crucial, observation: these sets are disjoint if and only if the no-arbitrage condition is satisfied. As one always can separate an open convex set from a disjoint convex set, we find a functional
   <math display="inline">
    \tilde{\pi}
   </math>
   , which is strictly positive on B, while
   <math display="inline">
    \tilde{\pi}
   </math>
   takes nonpositive values on A. By normalizing
   <math display="inline">
    \tilde{\pi}
   </math>
   , that is, letting
   <math display="inline">
    \pi^* = \tilde{\pi}(1)^{-1}\tilde{\pi}
   </math>
   we have thus found the desired extension.
  </p>
  <p block-type="Text" class="has-continuation">
   In summary, the first precise version of the fundamental theorem of asset pricing is established in [29], the proof relying on the Hahn–Banach theorem. There are, however, serious limitations: in the case of
  </p>
  <p block-type="TextInlineMath">
   infinite
   <math display="inline">
    (\Omega, \mathcal{F}, \mathbb{P})
   </math>
   , the present result only applies to
   <math display="inline">
    L^{\infty}(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   endowed with the norm topology. In this case, the continuous linear functional
   <math display="inline">
    \pi^*
   </math>
   only is in
   <math display="inline">
    L^{\infty}(\Omega, \mathcal{F}, \mathbb{P})^*
   </math>
   and not necessarily in
   <math display="inline">
    L^1(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   ; in other words, we cannot be sure that
   <math display="inline">
    \pi^*
   </math>
   is induced by a probability measure
   <math display="inline">
    Q
   </math>
   , as it may happen that
   <math display="inline">
    \pi^* \in L^{\infty}(\Omega, \mathcal{F}, \mathbb{P})^*
   </math>
   also has a singular part.
  </p>
  <p block-type="TextInlineMath">
   Another drawback, which already appears in the case of finite-dimensional
   <math display="inline">
    \Omega
   </math>
   (in which case
   <math display="inline">
    \pi^*
   </math>
   certainly is induced by some
   <math display="inline">
    Q
   </math>
   with
   <math display="inline">
    \frac{dQ}{dP} = g \in L^1(\Omega, \mathcal{F}, P)
   </math>
   is the following: we cannot be sure that the function
   <math display="inline">
    g
   </math>
   is strictly positive
   <math display="inline">
    \mathbb{P}
   </math>
   -a.s. or, in other words, that
   <math display="inline">
    Q
   </math>
   is equivalent to
   <math display="inline">
    \mathbb{P}
   </math>
   .
  </p>
  <p block-type="Text">
   After this early work by Ross, a major advance in the theory was achieved between 1979 and 1981 by three seminal papers [14, 15, 24] by Harrison, Kreps, and Pliska. In particular, [14] is a landmark in the field. It uses a similar setting as [29], namely, an ordered topological vector space
   <math display="inline">
    (X, \tau)
   </math>
   and a linear functional
   <math display="inline">
    \pi: M \to \mathbb{R}
   </math>
   , where M is a linear subspace of
   <math display="inline">
    X
   </math>
   . Again the question is whether there exists an extension of
   <math display="inline">
    \pi
   </math>
   to a linear, continuous, strictly positive
   <math display="inline">
    \pi^*: X \to \mathbb{R}
   </math>
   . This question is related in [14] to the issue of whether
   <math display="inline">
    (M, \pi)
   </math>
   is viable as a model of economic equilibrium. Under proper assumptions on the convexity and continuity of the preferences of agents, this is shown to be equivalent to the extension discussed above.
  </p>
  <p block-type="TextInlineMath">
   The paper [14] also analyzes the case when
   <math display="inline">
    \Omega
   </math>
   is finite. Of course, only processes
   <math display="inline">
    S = (S_t)_{t=0}^T
   </math>
   indexed by finite, discrete time
   <math display="inline">
    \{0, 1, \ldots, T\}
   </math>
   make sense in this case. For this easier setting, the following precise theorem was stated and proved in the subsequent paper [15] by Harrison and Pliska:
  </p>
  <p block-type="TextInlineMath">
   <b>
    Theorem 1
   </b>
   ([Th. 2. 7.] [15]): suppose the stochastic process
   <math display="inline">
    S = (S_t)_{t=0}^T
   </math>
   is based on a finite, filtered, probability space
   <math display="inline">
    (\Omega, \mathcal{F}, (\mathcal{F}_t)_{t=0}^T, \mathbb{P})
   </math>
   . The market model contains no-arbitrage possibilities if and only if there is an equivalent martingale measure for S.
  </p>
  <p block-type="TextInlineMath" class="has-continuation">
   The proof again relies on a (finite-dimensional version) of the Hahn-Banach theorem plus an extra argument making sure to find a measure
   <math display="inline">
    Q
   </math>
   , which is
   <i>
    equivalent to
   </i>
   <math display="inline">
    \mathbb{P}
   </math>
   . Harrison and Pliska thus have achieved a precise version of the above meta-theorem in terms of equivalent martingale measures, which does not use the word "essentially". Actually, the theme of the Harrison-Pliska theorem goes back
  </p>
  <p block-type="Text">
   much further, to the work of Shimony [35] and Kemeny [22] on symbolic logic in the tradition of Carnap, de Finetti, and Ramsey. These authors showed that, in a setting with only finitely many states of the world, a family of possible bets does not allow (by taking linear combinations) for making a riskless profit (i.e., one certainly does not lose but wins with strictly positive probability), if and only if there is a probability measure
   <math display="inline">
    O
   </math>
   on these finitely many states. which prices the possible bets by taking conditional
   <math display="inline">
    O
   </math>
   -expectations.
  </p>
  <p block-type="TextInlineMath">
   The restriction to finite
   <math display="inline">
    \Omega
   </math>
   is very severe in applications: the flavor of the theory, building on Black-Scholes-Merton, is precisely the concept of continuous time. Of course, this involves infinite probability spaces
   <math display="inline">
    (\Omega, \mathcal{F}, \mathbb{P})
   </math>
   .
  </p>
  <p block-type="Text">
   Many interesting questions were formulated in the papers
   <math display="inline">
    [14, 15]
   </math>
   hinting on the difficulties to prove a version of the fundamental theorem of asset pricing beyond the setting of finite probability spaces.
  </p>
  <p block-type="TextInlineMath">
   A major breakthrough in this direction was achieved by Kreps [24]: as above, let
   <math display="inline">
    M \subseteq X
   </math>
   and a linear functional
   <math display="inline">
    \pi: M \to \mathbb{R}
   </math>
   be given. The typical choice for X will now be
   <math display="inline">
    X = L^p(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   , for
   <math display="inline">
    1 \leq p \leq \infty
   </math>
   , equipped with the topology
   <math display="inline">
    \tau
   </math>
   of convergence in norm, or, if
   <math display="inline">
    X = L^{\infty}(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   , equipped with the Mackey topology
   <math display="inline">
    \tau
   </math>
   induced by
   <math display="inline">
    L^1(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   . This setting will make sure that a continuous linear functional on
   <math display="inline">
    (X, \tau)
   </math>
   will be induced by a measure Q, which is absolutely continuous with respect to
   <math display="inline">
    \mathbb{P}
   </math>
   .
  </p>
  <p block-type="TextInlineMath">
   The no-arbitrage assumption means that
   <math display="inline">
    M_0 :=
   </math>
   <math display="inline">
    \{m \in M : \pi(m) = 0\}
   </math>
   intersects the positive orthant
   <math display="inline">
    X_{+}
   </math>
   of X only in
   <math display="inline">
    \{0\}
   </math>
   . In order to obtain an extension of
   <math display="inline">
    \pi
   </math>
   to a continuous, linear functional
   <math display="inline">
    \pi^*: X \to \mathbb{R}
   </math>
   we have to find an element in
   <math display="inline">
    (X, \tau)^*
   </math>
   , which separates the convex set
   <math display="inline">
    M_0
   </math>
   from the disjoint convex set
   <math display="inline">
    X_{+}\{0\}
   </math>
   , that is, the positive orthant of X with 0 deleted.
  </p>
  <p block-type="Text">
   Easy examples show that, in general, this is not possible. In fact, this is not much of a surprise (if
   <math display="inline">
    X
   </math>
   is infinite-dimensional) as we know that some topological condition is needed for the Hahn-Banach theorem to work.
  </p>
  <p block-type="Text">
   It is always possible to separate a
   <i>
    closed
   </i>
   convex set from a disjoint
   <i>
    compact
   </i>
   convex set by a continuous linear functional. In fact, one may even get strict separation in this case. It is this version of the Hahn–Banach theorem that Kreps eventually applies.
  </p>
  <p block-type="Text">
   But how? After all, neither
   <math display="inline">
    M_0
   </math>
   nor
   <math display="inline">
    X_{+}{0}
   </math>
   are closed in
   <math display="inline">
    (X, \tau)
   </math>
   , let alone compact.
  </p>
  <p block-type="Text">
   Here is the ingenious construction of Kreps: define
  </p>
  <p block-type="Equation">
   <math display="block">
    A = \overline{M_0 - X_+} \tag{5}
   </math>
  </p>
  <p block-type="Text">
   where the bar denotes the closure with respect to the topology
   <math display="inline">
    \tau
   </math>
   . We shall require that A still satisfies
  </p>
  <p block-type="Equation">
   <math display="block">
    A \cap X_+ = \{0\} \tag{6}
   </math>
  </p>
  <p block-type="Text">
   This property is baptized as "
   <i>
    no free lunch
   </i>
   " by Kreps:
  </p>
  <p block-type="TextInlineMath">
   <b>
    Definition 1
   </b>
   [24]: The financial market defined by
   <math display="inline">
    (X, \tau)
   </math>
   , M, and
   <math display="inline">
    \pi
   </math>
   admits a free lunch if there are nets
   <math display="inline">
    (m_{\alpha})_{\alpha\in I}\in M_0
   </math>
   and
   <math display="inline">
    (h_{\alpha})_{\alpha\in I}\in X_+
   </math>
   such that
  </p>
  <p block-type="Equation">
   <math display="block">
    \lim_{\alpha \in I} \ (m_{\alpha} - h_{\alpha}) = x \tag{7}
   </math>
  </p>
  <p block-type="TextInlineMath">
   for some
   <math display="inline">
    x \in X_+\setminus\{0\}
   </math>
   .
  </p>
  <p block-type="Text">
   It is easy to verify that the negation of the above definition is tantamount to the validity of equation
   <math display="inline">
    (6)
   </math>
   .
  </p>
  <p block-type="TextInlineMath">
   The economic interpretation of the "no free lunch" condition is a sharpening of the "no-arbitrage condition". If the latter is violated, we can simply find an element
   <math display="inline">
    x \in X_+\{0\}
   </math>
   , which also lies in
   <math display="inline">
    M_0
   </math>
   . If the former fails, we cannot quite guarantee this, but we can find
   <math display="inline">
    x \in X_+\{0\}
   </math>
   , which can be approximated in the
   <math display="inline">
    \tau
   </math>
   -topology by elements of the form
   <math display="inline">
    m_{\alpha} - h_{\alpha}
   </math>
   . The passage from
   <math display="inline">
    m_{\alpha}
   </math>
   to
   <math display="inline">
    m_{\alpha} - h_{\alpha}
   </math>
   means that agents are allowed to "throw away money", that is, to abandon a positive element
   <math display="inline">
    h_{\alpha} \in X_{+}
   </math>
   . This combination of the "free disposal" assumption with the possibility of passing to limits is crucial in Kreps' approach
   <math display="inline">
    (5)
   </math>
   as well as in most of the subsequent literature. It was shown in [Ex. 3.3] [32]; ([33]) that the (seemingly ridiculous) "free disposal" assumption cannot be dropped.
  </p>
  <p block-type="TextInlineMath" class="has-continuation">
   Definition
   <math display="inline">
    (5)
   </math>
   is tailor-made for the application of Hahn-Banach. If the no free lunch condition (6) is satisfied, we may, for any
   <math display="inline">
    h \in X_+
   </math>
   , separate the
   <math display="inline">
    \tau
   </math>
   -closed, convex set A from the one-point set
   <math display="inline">
    \{h\}
   </math>
   by an element
   <math display="inline">
    \pi_h \in (X, \tau)^*
   </math>
   . As
   <math display="inline">
    0 \in A
   </math>
   , we may assume that
   <math display="inline">
    \pi_h|_A \leq 0
   </math>
   while
   <math display="inline">
    \pi_h(h) &gt; 0
   </math>
   . We thus have obtained a nonnegative (as
   <math display="inline">
    -X_{+} \subseteq A
   </math>
   ), continuous linear functional
   <math display="inline">
    \pi_h
   </math>
   , which is strictly positive on a given
   <math display="inline">
    h \in X_+
   </math>
   . Supposing that
   <math display="inline">
    X_+
   </math>
   is
   <math display="inline">
    \tau
   </math>
   -separable (which is the case in the above setting of
   <math display="inline">
    L^p
   </math>
   -spaces if
   <math display="inline">
    (\Omega, \mathcal{F}, \mathbb{P})
   </math>
   is countably generated), fix a dense sequence
   <math display="inline">
    (h_n)_{n=1}^{\infty}
   </math>
   and find strictly positive scalars
   <math display="inline">
    \mu_n &gt; 0
   </math>
   such that
   <math display="inline">
    \pi^* = \sum_{n=1}^{\infty} \mu_n \pi_{h_n}
   </math>
   converges to a
  </p>
  <p block-type="TextInlineMath">
   probability measure in
   <math display="inline">
    (X, \tau)^* = L^q(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   , where
   <math display="inline">
    \frac{1}{p} + \frac{1}{q} = 1
   </math>
   . This yields the desired extension
   <math display="inline">
    \pi^*
   </math>
   of
   <math display="inline">
    \pi
   </math>
   which is
   <i>
    strictly positive
   </i>
   on
   <math display="inline">
    X_+\{0\}
   </math>
   .
  </p>
  <p block-type="TextInlineMath">
   We still have to specify the choice of
   <math display="inline">
    (M_0, \pi)
   </math>
   . The most basic choice is to take for given
   <math display="inline">
    S = (S_t)_{0 \le t \le T}
   </math>
   the space generated by the "simple integrands" (3) as proposed in [14]. We thus may deduce from Kreps' arguments in [24] the following version of the fundamental theorem of asset pricing.
  </p>
  <p block-type="TextInlineMath">
   <b>
    Theorem 2
   </b>
   Let
   <math display="inline">
    (\Omega, \mathcal{F}, \mathbb{P})
   </math>
   be countably generated and
   <math display="inline">
    X = L^p(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   endowed with the norm topol-
   <math display="inline">
    \log \tau
   </math>
   , if
   <math display="inline">
    1 \le p &lt; \infty
   </math>
   , or the Mackey topology induced by
   <math display="inline">
    L^1(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   , if
   <math display="inline">
    p = \infty
   </math>
   .
  </p>
  <p block-type="TextInlineMath">
   Let
   <math display="inline">
    S = (S_t)_{0 \le t \le T}
   </math>
   be a stochastic process taking values in X. Define
   <math display="inline">
    M_0 \subseteq X
   </math>
   to consist of the simple stochastic integrals
   <math display="inline">
    \sum_{i=1}^{n} H_i(S_{t_i} - S_{t_{i-1}})
   </math>
   as in equa
   <math display="inline">
    tion(3)
   </math>
  </p>
  <p block-type="TextInlineMath">
   Then the "no free lunch" condition (5) is satisfied if and only if there is a probability measure Q with
   <math display="inline">
    \frac{dQ}{d\mathbb{P}} \in
   </math>
   <math display="inline">
    L^q(\Omega, \mathcal{F}, \mathbb{P}), \text{ where } \frac{1}{p} + \frac{1}{q} = 1, \text{ such that } (S_t)_{0 \le t \le T} \text{ is }
   </math>
   a O-martingale.
  </p>
  <p block-type="Text">
   This remarkable theorem of Kreps sets new standards. For the first time, we have a mathematically precise statement of our meta-theorem applying to a general class of models in continuous time. There are still some limitations, however.
  </p>
  <p block-type="TextInlineMath">
   When applying the theorem to the case
   <math display="inline">
    1 \le p &lt;
   </math>
   <math display="inline">
    \infty
   </math>
   , we find the requirement
   <math display="inline">
    \frac{\mathrm{d}\varrho}{\mathrm{d}\mathbb{P}}\in L^q(\Omega,\mathcal{F},\mathbb{P})
   </math>
   for some
   <math display="inline">
    q &gt; 1
   </math>
   , which is not very pleasant. After all, we want to know what exactly corresponds (in terms of some no-arbitrage condition) to the existence of an equivalent martingale measure
   <math display="inline">
    Q
   </math>
   . The
   <i>
    q
   </i>
   -moment condition is unnatural in most applications. In particular, it is not invariant under equivalent changes of measures as is done often in the applications.
  </p>
  <p block-type="TextInlineMath">
   The most interesting case of the above theorem is
   <math display="inline">
    p = \infty
   </math>
   . However, in this case, the requirement
   <math display="inline">
    S_t \in X = L^{\infty}(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   is unduly strong for most applications. In addition, for
   <math display="inline">
    p = \infty
   </math>
   , we run into the subtleties of the Mackey topology
   <math display="inline">
    \tau
   </math>
   (or the weak-star topology, which does not make much of a difference) on
   <math display="inline">
    L^{\infty}(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   . We shall discuss this issue below.
  </p>
  <p block-type="Text" class="has-continuation">
   The "heroic period" of the development of the fundamental theorem of asset pricing marked by Ross [29], Harrison-Kreps [14], Harrison-Pliska [15], and Kreps [24], put the issue on safe mathematical grounds and brought some spectacular results. However, it still left many questions open; quite a number
  </p>
  <p block-type="Text">
   of them were explicitly stated as open problems in these papers.
  </p>
  <p block-type="Text">
   Subsequently a rather extensive literature developed, answering these problems and opening new perspectives. We cannot give a full account on all of this literature and refer, for example, to the monograph [11] for more extensive information. We can give an outline.
  </p>
  <p block-type="TextInlineMath">
   As regards the situation for
   <math display="inline">
    1 &lt; p &lt; \infty
   </math>
   in Kreps' theorem, this issue was further developed by Duffie and Huang [12] and, in particular, by Stricker [36]. This author related the no free lunch condition of Kreps to a theorem by Yan [37] obtained in the context of the Bichteler-Dellacherie theorem on the characterization of semimartingales. Using Yan's theorem, Stricker gave a different proof of Kreps' theorem, which does not need the assumption that
   <math display="inline">
    (\Omega, \mathcal{F}, \mathbb{P})
   </math>
   is countably generated.
  </p>
  <p block-type="TextInlineMath">
   A beautiful extension of the Harrison–Pliska theorem was obtained in 1990 by Dalang, Morton, and Willinger [5]. They showed that, for an
   <math display="inline">
    \mathbb{R}^d
   </math>
   -valued process
   <math display="inline">
    (S_t)_{t=0}^T
   </math>
   in finite discrete time, the no-arbitrage condition is indeed equivalent to the existence of an equivalent martingale measure. The proof is surprisingly tricky, at least for the case
   <math display="inline">
    d &gt; 2
   </math>
   . It is based on the measurable selection theorem (the suggestion to use this theorem is acknowledged to Delbaen). Different proofs of the Dalang-Morton-Willinger theorem have been given in [17, 20, 21, 26, 31].
  </p>
  <p block-type="TextInlineMath">
   An important question left unanswered by Kreps was whether one can, in general, replace the use of nets
   <math display="inline">
    (m_{\alpha} - h_{\alpha})_{\alpha \in I}
   </math>
   , indexed by
   <math display="inline">
    \alpha
   </math>
   ranging in a general ordered set
   <i>
    I
   </i>
   , simply by sequences
   <math display="inline">
    (m_n - h_n)_{n=1}^{\infty}
   </math>
   . In the context of continuous processes,
   <math display="inline">
    S = (S_t)_{0 \le t \le T}
   </math>
   , a positive answer was given by Delbaen in [6], if one is willing to make the harmless modification to replace the deterministic times
   <math display="inline">
    0 = t_0 \le t_1 \le \ldots \le t_n = T
   </math>
   in equation (3) by
   <i>
    stopping times
   </i>
   <math display="inline">
    0 = \tau_0 \leq \tau_1 \leq \ldots \leq
   </math>
   <math display="inline">
    \tau_n = T
   </math>
   . A second case, where the answer to this question is positive, are processes
   <math display="inline">
    S = (S_t)_{t=0}^{\infty}
   </math>
   in infinite, discrete time as shown in
   <math display="inline">
    [32]
   </math>
   .
  </p>
  <p block-type="TextInlineMath">
   The Banach-Steinhaus theorem implies that, for a sequence
   <math display="inline">
    (m_n - h_n)_{n=1}^{\infty}
   </math>
   converging in
   <math display="inline">
    L^{\infty}(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   with respect to the weak-star (or Mackey) topology, the norms
   <math display="inline">
    (||m_n - h_n||_{\infty})_{n=1}^{\infty}
   </math>
   remain bounded ("uniform boundedness principle"). Therefore, it follows that in the above two cases of continuous processes
   <math display="inline">
    S = (S_t)_{0 \le t \le T}
   </math>
   or processes
   <math display="inline">
    (S_t)_{t=0}^{\infty}
   </math>
   in infinite, discrete time, the "no free lunch" condition of Kreps can be equivalently replaced by the "no free lunch
  </p>
  <p block-type="TextInlineMath">
   with bounded risk" condition introduced in [32]: in equation
   <math display="inline">
    (7)
   </math>
   above, we additionally impose that
   <math display="inline">
    (|m_{\alpha}-h_{\alpha}|_{\infty})_{\alpha\in I}
   </math>
   remains bounded. In this case, we have that there is a constant
   <math display="inline">
    M &gt; 0
   </math>
   such that
   <math display="inline">
    m_{\alpha} \geq -M
   </math>
   ,
   <math display="inline">
    \mathbb{P}
   </math>
   -a.s. for each
   <math display="inline">
    \alpha \in I
   </math>
   , which explains the wording "bounded risk".
  </p>
  <p block-type="TextInlineMath">
   However, in the context of general semimartingale models
   <math display="inline">
    S = (S_t)_{0 \le t \le T}
   </math>
   , a counter-example was given by Delbaen and the author in (
   <math display="inline">
    [Ex. 7.8]
   </math>
   [7]) showing that the "no free lunch with bounded risk" condition does not imply the existence of an equivalent martingale measure. Hence, in a general setting and by only using simple integrals, there is no possibility of getting any more precise information on the free lunch condition than the one provided by Kreps' theorem.
  </p>
  <p block-type="Text">
   At this stage it became clear that, in order to obtain sharper results, one has to go beyond the framework of simple integrals (3) and rather use general stochastic integrals (1). After all, the simple integrals are only a technical gimmick, analogous to step functions in measure theory. In virtually all the applications, for example, the replication strategy of an option in the Black-Scholes model, one uses general integrals of the form
   <math display="inline">
    (1)
   </math>
   .
  </p>
  <p block-type="TextInlineMath">
   General integrands pose a number of questions to be settled. First of all, the integral (1) has to be mathematically well defined. The theory of stochastic calculus starting with K. Itô, and developed in particular by the Strasbourg school of probability around Meyer, provides very precise information on this issue: there is a good integration theory for a given stochastic process
   <math display="inline">
    S = (S_t)_{0 \le t \le T}
   </math>
   if and only if S is a semimartingale (theorem of Bichteler-Dellacherie).
  </p>
  <p block-type="TextInlineMath">
   Hence, mathematical arguments lead to the model assumption that
   <math display="inline">
    S
   </math>
   has to be a semimartingale. However, what about an economic justification of this assumption? Fortunately, the economic reasoning hints in the same direction. It was shown by Delbaen and the author that, for a locally bounded stochastic process
   <math display="inline">
    S = (S_t)_{0 \le t \le T}
   </math>
   , a very weak form of Kreps' "no free lunch" condition involving simple integrands
   <math display="inline">
    (3)
   </math>
   , implies already that S is a semimartingale (see [Theorem 7.2] [7], for a precise statement).
  </p>
  <p block-type="TextInlineMath">
   Hence, it is natural to assume that the model
   <math display="inline">
    S = (S_t)_{0 \le t \le T}
   </math>
   of stock prices is a semimartingale so that the stochastic integral (3) makes sense mathematically, for all S-integrable, predictable processes
   <math display="inline">
    H = (H_t)_{0 \le t \le T}
   </math>
   . As pointed out, [14, 15] impose, in addition, an admissibility condition to rule out doubling strategies and similar schemes.
  </p>
  <p block-type="TextInlineMath">
   <b>
    Definition 2
   </b>
   ([Def. 2.7] [7]): An S-integrable predictable process
   <math display="inline">
    H = (H_t)_{0 \le t \le T}
   </math>
   is called admissible if there is a constant
   <math display="inline">
    M &gt; 0
   </math>
   such that
  </p>
  <p block-type="Equation">
   <math display="block">
    \int_0^t H_u \mathrm{d}S_u \ge -M, \quad a.s., \ for \ 0 \le t \le T \qquad (8)
   </math>
  </p>
  <p block-type="Text">
   The economic interpretation is that the economic agent, trading according to the strategy, has to respect a finite credit line
   <math display="inline">
    M
   </math>
   .
  </p>
  <p block-type="Text">
   Let us now sketch the approach of [7]. Define
  </p>
  <p block-type="Equation">
   <math display="block">
    K = \left\{ \int_0^T H_t \mathrm{d}S_t : H \text{ admissible} \right\} \tag{9}
   </math>
  </p>
  <p block-type="TextInlineMath">
   which is a set of (equivalence classes of) random variables. Note that by equation (6) the elements
   <math display="inline">
    f \in K
   </math>
   are uniformly bounded from below, that is,
   <math display="inline">
    f \ge -M
   </math>
   for some
   <math display="inline">
    M \ge 0
   </math>
   . On the other hand, there is no reason why the positive part
   <math display="inline">
    f_{+}
   </math>
   should obey any boundedness or integrability assumption.
  </p>
  <p block-type="Text">
   As a next step, we "allow agents to throw away money" similarly as in Kreps' work [24]. Define
  </p>
  <p block-type="Equation">
   <math display="block">
    C = \left\{ g \in L^{\infty}(\Omega, \mathcal{F}, \mathbb{P}) : g \le f \text{ for some } f \in K \right\}
   </math>
   <math display="block">
    = \left[ K - L_{+}^{0}(\Omega, \mathcal{F}, \mathbb{P}) \right] \cap L^{\infty}(\Omega, \mathcal{F}, \mathbb{P}) \tag{10}
   </math>
  </p>
  <p block-type="TextInlineMath">
   where
   <math display="inline">
    L^0_{+}(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   denotes the set of nonnegative measurable functions.
  </p>
  <p block-type="TextInlineMath">
   By construction,
   <math display="inline">
    C
   </math>
   consists of bounded random variables, so that we can use the functional analytic duality theory between
   <math display="inline">
    L^{\infty}
   </math>
   and
   <math display="inline">
    L^{1}
   </math>
   . The difference of the subsequent definition to Kreps' approach is that it pertains to the norm topology
   <math display="inline">
    \|.\|_{\infty}
   </math>
   rather than to the Mackey topology on
   <math display="inline">
    L^{\infty}(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   .
  </p>
  <p block-type="TextInlineMath">
   <b>
    Definition 3
   </b>
   ([2.8] [11]): A locally bounded semimartingale
   <math display="inline">
    S = (S_t)_{0 \le t \le T}
   </math>
   satisfies the no free lunch with vanishing risk condition if
  </p>
  <p block-type="Equation">
   <math display="block">
    \bar{C} \cap L^{\infty}_{+}(\Omega, \mathcal{F}, \mathbb{P}) = \{0\} \tag{11}
   </math>
  </p>
  <p block-type="TextInlineMath">
   where
   <math display="inline">
    \bar{C}
   </math>
   denotes the
   <math display="inline">
    \|.\|_{\infty}
   </math>
   -closure of C.
  </p>
  <p block-type="TextInlineMath">
   Here is the translation of equation
   <math display="inline">
    (11)
   </math>
   into prose: the process
   <math display="inline">
    S
   </math>
   fails the above condition if there is a function
   <math display="inline">
    g \in L^{\infty}_{+}(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   with
   <math display="inline">
    \mathbb{P}[g &gt; 0] &gt; 0
   </math>
   and a sequence
   <math display="inline">
    (f^n)_{n=1}^{\infty}
   </math>
   of the form
  </p>
  <p block-type="Equation">
   <math display="block">
    f^{n} = \int_{0}^{T} H_{t}^{n} \mathrm{d}S_{t} \tag{12}
   </math>
  </p>
  <p block-type="Text">
   where
   <math display="inline">
    H^n
   </math>
   are admissible integrands, such that
  </p>
  <p block-type="Equation">
   <math display="block">
    f_n \ge g - \frac{1}{n} \qquad a.s. \tag{13}
   </math>
  </p>
  <p block-type="TextInlineMath">
   Hence the condition of no free lunch with vanishing risk is intermediate between the (stronger) no free lunch condition of Kreps and the (weaker) no-arbitrage condition. The latter would require that there is a nonnegative function
   <math display="inline">
    g
   </math>
   with
   <math display="inline">
    \mathbb{P}[g &gt; 0] &gt; 0
   </math>
   , which is of the form
  </p>
  <p block-type="Equation">
   <math display="block">
    g = \int_0^T H_t \mathrm{d}S_t \tag{14}
   </math>
  </p>
  <p block-type="TextInlineMath">
   for an admissible integrand
   <math display="inline">
    H
   </math>
   . Condition (13) does not quite guarantee this, but something — at least from an economic point of view — very close: we can
   <i>
    uniformly
   </i>
   approximate from below such a
   <math display="inline">
    g
   </math>
   by the outcomes
   <math display="inline">
    f_n
   </math>
   of admissible trading strategies.
  </p>
  <p block-type="Text">
   The main result of Delbaen and the author [7] reads as follows.
  </p>
  <p block-type="TextInlineMath">
   <b>
    Theorem 3
   </b>
   ([Corr. 1.2][7]): Let
   <math display="inline">
    S = (S_t)_{0 \le t \le T}
   </math>
   be a locally bounded real-valued semimartingale.
  </p>
  <p block-type="TextInlineMath">
   There is a probability measure O on
   <math display="inline">
    (\Omega, \mathcal{F})
   </math>
   , which is equivalent to
   <math display="inline">
    \mathbb{P}
   </math>
   and under which S is a local martingale if and only if
   <math display="inline">
    S
   </math>
   satisfies the condition of no free lunch with vanishing risk.
  </p>
  <p block-type="TextInlineMath">
   This is a mathematically precise theorem, which, in my opinion, is quite close to the vague "metatheorem" at the beginning of this article. The difference to the intuitive "no arbitrage" idea is that the agent has to be willing to sacrifice (at most) the quantity
   <math display="inline">
    \frac{1}{n}
   </math>
   in equation (13), where we may interpret
   <math display="inline">
    \frac{1}{n}
   </math>
   as, say, 1 cent.
  </p>
  <p block-type="Text">
   The proof of the above theorem is rather long and technical and a more detailed discussion goes beyond the scope of this article. To the best of the author's knowledge, no essential simplification of this proof has been achieved so far ([19]).
  </p>
  <p block-type="TextInlineMath">
   Mathematically speaking, the statement of the theorem looks very suspicious at first glance: after all, the no free lunch with vanishing risk condition pertains to the
   <i>
    norm topology
   </i>
   of
   <math display="inline">
    L^{\infty}(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   . Hence it seems that, when applying the Hahn-Banach theorem, one can only obtain a linear functional in
   <math display="inline">
    L^{\infty}(\Omega, \mathcal{F}, \mathbb{P})^*
   </math>
   , which is not necessarily of the form
   <math display="inline">
    \frac{\mathrm{d} \varrho}{\mathrm{d} \mathbb{P}} \in L^1(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   , as we have seen in Ross' work [29].
  </p>
  <p block-type="Text" class="has-continuation">
   The reason why the above theorem, nevertheless, is true is a little miracle: it turns out ([Th. 4.2] [7])
  </p>
  <p block-type="Text">
   that, under the assumption of no free lunch with vanishing risk, the set
   <math display="inline">
    C
   </math>
   defined in equation (10) is
   <i>
    automatically
   </i>
   weak-star closed in
   <math display="inline">
    L^{\infty}(\Omega, \mathcal{F}, \mathbb{P})
   </math>
   . This pleasant fact is not only a crucial step in the proof of the above theorem; maybe even more importantly, it also found other applications. For example, to find general existence results in the theory of utility optimization (see
   <b>
    Expected Utility Maximization: Duality Methods
   </b>
   ) it is of crucial importance to have a closedness property of the set over which one optimizes: for these applications, the above result is very useful [23].
  </p>
  <p block-type="Text">
   Without going into the details of the proof, the importance of certain elements in the set
   <math display="inline">
    K
   </math>
   is pointed out. The admissibility rules out the use of doubling strategies. The opposite of such a strategy can be called a
   <i>
    suicide strategy
   </i>
   . It is the mathematical equivalent of making a bet at the roulette, leaving it as well as all gains on the table as long as one keeps winning, and wait until one loses for the first time. Such strategies, although admissible, do not reflect economic efficiency. More precisely, we define the following.
  </p>
  <p block-type="TextInlineMath">
   <b>
    Definition 4
   </b>
   An admissible outcome
   <math display="inline">
    \int_0^T H_t \mathrm{d}S_t
   </math>
   is called maximal if there is no other admissible&lt;br&gt;strategy
   <math display="inline">
    H'
   </math>
   such that
   <math display="inline">
    \int_0^T H'_t dS_t \geq \int_0^T H_t dS_t
   </math>
   with
   <math display="inline">
    \mathbb{P}[\int_0^T H_t' \mathrm{d}S_t &gt; \int_0^T H_t \mathrm{d}S_t] &gt; 0
   </math>
  </p>
  <p block-type="Text">
   In the proof of Theorem 6, these elements play a crucial role and the heart of the proof consists in showing that every element in
   <math display="inline">
    K
   </math>
   is dominated by a maximal element. However, besides their mathematical relevance, they also have a clear economic interpretation. There is no use in implementing a strategy that is not maximal as one can do better. Nonmaximal elements can also be seen as bubbles [18].
  </p>
  <p block-type="TextInlineMath">
   In Theorem 6, we only assert that
   <math display="inline">
    S
   </math>
   is a
   <i>
    local
   </i>
   martingale under
   <math display="inline">
    O
   </math>
   . In fact, this technical concept cannot be avoided in this setting. Indeed, fix an S-integrable, predictable, admissible process
   <math display="inline">
    H =
   </math>
   <math display="inline">
    (H_t)_{0 \le t \le T}
   </math>
   as well as a bounded, predictable, strictly positive process
   <math display="inline">
    (k_t)_{0 \le t \le T}
   </math>
   . The subsequent identity holds true trivially.
  </p>
  <p block-type="Equation">
   <math display="block">
    \int_0^t H_u \mathrm{d}S_u = \int_0^t \frac{H_u}{k_u} \mathrm{d}\tilde{S}_u, \quad 0 \le t \le T \tag{15}
   </math>
  </p>
  <p block-type="Text">
   where
  </p>
  <p block-type="Equation">
   <math display="block">
    \tilde{S}_u = \int_0^u k_v \mathrm{d}S_v, \quad 0 \le u \le T \tag{16}
   </math>
  </p>
  <p block-type="TextInlineMath">
   The message of equations
   <math display="inline">
    (15)
   </math>
   and
   <math display="inline">
    (16)
   </math>
   is that the class of processes obtained by taking admissible stochastic integrals on S or
   <math display="inline">
    \tilde{S}
   </math>
   simply coincide. An easy interpretation of this rather trivial fact is that the possible investment opportunities do not depend on whether stock prices are denoted in euros or in cents (this corresponds to taking
   <math display="inline">
    k_t \equiv 100
   </math>
   above).
  </p>
  <p block-type="TextInlineMath">
   However, it may very well happen that
   <math display="inline">
    \tilde{S}
   </math>
   is a martingale while
   <math display="inline">
    S
   </math>
   only is a local martingale. In fact, the concept of local martingales may even be
   <i>
    characterized
   </i>
   in these terms ([Proposition 2.5] [10]): a semimartingale
   <math display="inline">
    S
   </math>
   is a local martingale if and only if there is a strictly positive, decreasing, predictable process k such that
   <math display="inline">
    \tilde{S}
   </math>
   defined in equation (16) is a martingale.
  </p>
  <p block-type="TextInlineMath">
   Again we want to emphasize the role of the maximal elements. It turns out ([8, 11]) that if
   <math display="inline">
    \int_0^T H_t dS_t
   </math>
   is maximal,
   <i>
    if and only if
   </i>
   there is an equivalent local martingale measure Q such that the process
   <math display="inline">
    \int_0^t H_u dS_u
   </math>
   is a martingale and not just a local martingale under
   <math display="inline">
    Q
   </math>
   . One can show ([9, 11]) that for a given sequence of maximal elements
   <math display="inline">
    \int_0^T H_t^n dS_t
   </math>
   , one can find one and the same equivalent local martingale measure
   <math display="inline">
    Q
   </math>
   such that all the processes
   <math display="inline">
    \int_0^t H_u^n dS_u
   </math>
   are Q-martingales. Another useful and related characterization ([8, 11]) is that if a process
   <math display="inline">
    V_t = x + \int_0^t H_u dS_u
   </math>
   defines a maximal element
   <math display="inline">
    \int_0^T H_u dS_u
   </math>
   and remains strictly positive, the whole financial market can be rewritten in terms of
   <math display="inline">
    V
   </math>
   as a new numéraire without losing the noarbitrage properties. The change of numéraire and the use of the maximal elements allows to introduce a numéraire invariant concept of admissibility, see [9] for details. An important result in this article is that the sum of maximal elements is again a maximal element.
  </p>
  <p block-type="Text">
   Theorem 6 above still contains one severe limitation of generality, namely, the local boundedness assumption on
   <math display="inline">
    S
   </math>
   . As long as we only deal with con-
   <math display="inline">
    \n
    <i>
     tinuous processes S, this requirement is, of course,
    </i>
    \n
   </math>
   satisfied. However, if one also considers processes with jumps, in most applications it is natural to drop the local boundedness assumption.
  </p>
  <p block-type="Text" class="has-continuation">
   The case of general semimartingales
   <math display="inline">
    S
   </math>
   (without any boundedness assumption) was analyzed in [10]. Things become a little trickier as the concept of local martingales has to be weakened even further: we refer
  </p>
  <p block-type="Text">
   to
   <b>
    Equivalent Martingale Measures
   </b>
   for a discussion of the concept of sigma-martingales. This concept allows to formulate a result pertaining to a perfectly general setting.
  </p>
  <p block-type="TextInlineMath">
   <b>
    Theorem 4
   </b>
   ([Corr. 1.2][7]): Let
   <math display="inline">
    S = (S_t)_{0 \le t \le T}
   </math>
   be an
   <math display="inline">
    \mathbb{R}^d
   </math>
   -valued semimartingale.
  </p>
  <p block-type="Text">
   <i>
    There is a probability measure Q on
   </i>
   <math display="inline">
    (\Omega, \mathcal{F})
   </math>
   <i>
    , which
   </i>
   is equivalent to
   <math display="inline">
    \mathbb{P}
   </math>
   and under which S is a sigmamartingale if and only if
   <math display="inline">
    S
   </math>
   satisfies the condition of no free lunch with vanishing risk with respect to admissible strategies.
  </p>
  <p block-type="Text">
   One may still ask whether it is possible to formulate a version of the fundamental theorem, which does not rely on the concepts of local or sigma-, but rather on "true" martingales.
  </p>
  <p block-type="Text">
   This was achieved by Yan [38] by applying a clever change of numéraire technique, (see Change of Numeraire also [Section 5] [13]): let us suppose that
   <math display="inline">
    (S_t)_{0 \le t \le T}
   </math>
   is a
   <i>
    positive
   </i>
   semimartingale, which is natural if we model, for example, prices of shares (while the previous setting of not necessarily positive price processes also allows for the modeling of forwards, futures etc.).
  </p>
  <p block-type="Text">
   Let us weaken the admissibility condition (8) above, by calling a predictable, S-integrable process allowable if
  </p>
  <p block-type="Equation">
   <math display="block">
    \int_0^t H_u \mathrm{d}S_u \ge -M(1+S_t) \quad a.s., \text{ for } 0 \le t \le T
   </math>
   (17)
  </p>
  <p block-type="Text">
   The economic idea underlying this notion is well known and allows for the following interpretation: an agent holding
   <math display="inline">
    M
   </math>
   units of stock and bond may, in addition, trade in
   <math display="inline">
    S
   </math>
   according to the trading strategy
   <math display="inline">
    H
   </math>
   satisfying equation (17); the agent will then remain liquid during
   <math display="inline">
    [0, T]
   </math>
   .
  </p>
  <p block-type="Text">
   By taking
   <math display="inline">
    S + 1
   </math>
   as new numéraire and replacing admissible by allowable trading strategies, Yan obtains the following theorem.
  </p>
  <p block-type="Text">
   <b>
    Theorem 5
   </b>
   ([Theorem 3.2] [38]) Suppose that
   <math display="inline">
    S
   </math>
   is a positive semimartingale.
  </p>
  <p block-type="Text">
   <i>
    There is a probability measure
   </i>
   <math display="inline">
    Q
   </math>
   <i>
    on
   </i>
   <math display="inline">
    (\Omega, \mathcal{F})
   </math>
   <i>
    , which
   </i>
   is equivalent to
   <math display="inline">
    \mathbb{P}
   </math>
   and under which S is a martingale if and only if
   <math display="inline">
    S
   </math>
   satisfies the condition of no free lunch with vanishing risk with respect to allowable trading strategies.
  </p>
 </body>
</html>
