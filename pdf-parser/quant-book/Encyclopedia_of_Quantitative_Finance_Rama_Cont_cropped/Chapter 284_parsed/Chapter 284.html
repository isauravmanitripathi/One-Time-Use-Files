<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
 </head>
 <body>
  <h1>
   <b>
    Expected Utility
   </b>
   Maximization
  </h1>
  <p block-type="TextInlineMath">
   The continuous-time portfolio problem consists of maximizing total expected utility of consumption over the trading interval
   <math display="inline">
    [0, T]
   </math>
   and/or of terminal wealth
   <math display="inline">
    X(T)
   </math>
   . We look at this problem in the standard continuous-time diffusion market setting. In other words, we consider a security market with
   <math display="inline">
    n+1
   </math>
   assets, one of which is a money market account with rate of return
   <math display="inline">
    r(t)
   </math>
   , and the other
   <i>
    n
   </i>
   of which are stocks, whose prices are driven by an
   <math display="inline">
    m
   </math>
   -dimensional Brownian motion. More precisely, the prices are given as the unique solutions of the equations
  </p>
  <p block-type="Equation">
   <math display="block">
    dP_0(t) = P_0(t)r(t) dt, \quad P_0(0) = 1 \tag{1}
   </math>
   <br/>
   <math display="block">
    dP_i(t) = P_i(t) \left( b_i(t) dt + \sum_{j=1}^m \sigma_{ij}(t) dW_j(t) \right),
   </math>
  </p>
  <p block-type="Equation">
   <math display="block">
    P_i(0) = p_i \tag{2}
   </math>
  </p>
  <p block-type="Text">
   Here, we assume that the market coefficients
   <math display="inline">
    r, b
   </math>
   , and
   <math display="inline">
    \sigma
   </math>
   are progressively measurable with respect to the Brownian filtration, component-wise bounded, and that
   <math display="inline">
    \sigma\sigma'
   </math>
   is uniformly positive definite, that is, we have
  </p>
  <p block-type="Equation">
   <math display="block">
    x'\sigma(t)\sigma(t)'x \ge c \ x'x \quad \text{a.s.} \tag{3}
   </math>
  </p>
  <p block-type="TextInlineMath">
   for a positive constant c, and all
   <math display="inline">
    0 \neq x \in IR^n
   </math>
   ,
   <math display="inline">
    t \in
   </math>
   <math display="inline">
    [0, T]
   </math>
   . This, in particular, implies
  </p>
  <p block-type="Equation">
   <math display="block">
    m \ge n \tag{4}
   </math>
  </p>
  <p block-type="TextInlineMath">
   The investor specifies his/her investment and consumption strategy at time t by choosing the rate
   <math display="inline">
    c(t)
   </math>
   at which he/she consumes and the different fractions
   <math display="inline">
    \pi_i(t)
   </math>
   of his/her wealth that he/she invests in the risky asset
   <math display="inline">
    i
   </math>
   . The remaining fraction of his/her wealth
   <math display="inline">
    1 - \sum_{i=1}^{n} \pi_i(t)
   </math>
   has to be invested in the money market account. We assume that the investor bases his investment decisions on the observation of past and present security prices. We therefore require both the consumption and the portfolio process to be progressively measurable with respect to the filtration
   <math display="inline">
    (f_t)_{t\in[0,T]}
   </math>
   generated by the security prices. Of course, the consumption should always be nonnegative. We define the investor's wealth process
   <math display="inline">
    X^{\pi,c}(t)
   </math>
   using the strategy
   <math display="inline">
    (\pi, c)
   </math>
   as the sum of the value of his/her total
  </p>
  <p block-type="Text">
   holdings at time
   <math display="inline">
    t
   </math>
   . By requiring the investor to act in a self-financing way (i.e., the investor's wealth only changes due to gains/losses from trading and due to consumption), the return of the wealth is given as
  </p>
  <p block-type="Equation">
   <math display="block">
    \frac{\mathrm{d}X^{\pi,c}(t)}{X^{\pi,c}(t)} = \left(1 - \sum_{i=1}^{n} \pi_i(t)\right) \frac{\mathrm{d}P_0(t)}{P_0(t)} + \sum_{i=1}^{n} \pi_i(t) \frac{\mathrm{d}P_i(t)}{P_i(t)} - \frac{c(t) \,\mathrm{d}t}{X^{\pi,c}(t)} \quad (5)
   </math>
  </p>
  <p block-type="Text">
   leading to the stochastic differential equation (the "wealth equation")
  </p>
  <p block-type="Equation">
   <math display="block">
    dX^{\pi,c}(t) = X^{\pi,c}(t) \left( \left( r(t) + \sum_{i=1}^{n} \pi_i(t)(b_i - r) \right) dt + \sum_{i=1}^{n} \pi_i(t) \sum_{j=1}^{m} \sigma_{ij} dW_j(t) \right) - c(t) dt \quad (6)
   </math>
  </p>
  <p block-type="Text">
   with initial condition
  </p>
  <p block-type="Equation">
   <math display="block">
    X^{\pi,c}(0) = x \tag{7}
   </math>
  </p>
  <p block-type="TextInlineMath">
   We call a self-financing pair
   <math display="inline">
    (\pi, c)
   </math>
   admissible for an initial wealth of x (and write
   <math display="inline">
    (\pi, c) \in A(x)
   </math>
   ) if the wealth equation (6) has a unique positive solution with
   <math display="inline">
    c &gt; 0
   </math>
   . By this, we implicitly assume that
   <math display="inline">
    (\pi, c)
   </math>
   satisfies integrability conditions ensuring that the stochastic integrals in equation
   <math display="inline">
    (6)
   </math>
   are well defined.
  </p>
  <p block-type="Text">
   To judge the performance of such a pair, we introduce the notion of a utility function:
  </p>
  <p block-type="TextInlineMath">
   <b>
    Definition 1
   </b>
   A strictly concave function
   <math display="inline">
    U: (0,
   </math>
   <math display="inline">
    \infty
   </math>
   )
   <math display="inline">
    \rightarrow
   </math>
   <i>
    IR
   </i>
   with
   <math display="inline">
    U \in C^2
   </math>
   satisfying
  </p>
  <p block-type="Equation">
   <math display="block">
    U'(0) := \lim_{x \downarrow 0} U'(x) = +\infty,
   </math>
   <br/>
   <math display="block">
    U'(+\infty) := \lim_{x \to +\infty} U'(x) = 0 \tag{8}
   </math>
  </p>
  <p block-type="Text">
   is called a utility function.
  </p>
  <h4>
   <b>
    Remarks and Examples
   </b>
  </h4>
  <p block-type="Text">
   1. Note that the definition implies that a utility function has to be increasing ("more is better than less"), but the advantage of one additional unit decreases with increasing amount
   <math display="inline">
    x
   </math>
   ("decreasing marginal utility"). Popular examples of utility
  </p>
  <p block-type="TextInlineMath">
   functions are
   <i>
    U (x)
   </i>
   = 1
   <i>
    <sup>
     γ
    </sup>
    <sup>
     x
    </sup>
    <sup>
     γ
    </sup>
   </i>
   for
   <i>
    <sup>
     γ
    </sup>
   </i>
   <sup>
    ∈
   </sup>
   <i>
    (
   </i>
   0
   <i>
    ,
   </i>
   <sup>
    1
   </sup>
   <i>
    )
   </i>
   or
   <i>
    U (x)
   </i>
   = ln
   <i>
    (x)
   </i>
   .
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     2. By slight misuse of the above definition, we will also call a family of functions
     <i>
      U (t, .), t
     </i>
     ∈ [0
     <i>
      , T
     </i>
     ] a utility function if for fixed
     <i>
      t
     </i>
     ∈ [0
     <i>
      , T
     </i>
     ]
     <i>
      U (t, .)
     </i>
     is a utility function as a function of the second variable. An obvious example would be the product of a utility function
     <i>
      F
     </i>
     (.) as in Definition 1 and a discount factor, for example,
     <i>
      U (t, x)
     </i>
     = exp
     <i>
      (
     </i>
     −
     <i>
      ρt)F (x)
     </i>
     .
    </li>
    <li block-type="ListItem">
     3. A utility function is introduced to model the investors attitude toward risk. This can be seen by considering two investment alternatives. One results in the constant payment of
     <i>
      A
     </i>
     , the other one in a random payment
     <i>
      B
     </i>
     with
     <i>
      E(B)
     </i>
     =
     <i>
      A
     </i>
     , both at the same time
     <i>
      T
     </i>
     . Then by Jensen's inequality, we obtain
     <i>
      U (A)
     </i>
     =
     <i>
      U (E(B)) &gt; E(U (B))
     </i>
     . Thus, an investor with such a utility function
     <i>
      U
     </i>
     would automatically go for the less risky alternative, the reason why his behavior (again characterized by the utility function) is called
     <i>
      risk-averse
     </i>
     (read more on this in Chapter 3 of [3]).
    </li>
   </ul>
  </p>
  <p block-type="Text">
   <b>
    Definition 2
   </b>
   <i>
    The continuous-time portfolio problem of an investor with an initial wealth of x consists of maximizing his expected utility from final wealth and consumption on [0, T] by choosing the best possible portfolio and consumption process, that is, by solving
   </i>
  </p>
  <p block-type="Equation">
   <math display="block">
    \max_{(\pi,c)\in A'(x)} E\left(\int_0^T U_1(t,c(t))\,\mathrm{d}t + U_2(X^{\pi,c}(T))\right) \tag{9}
   </math>
  </p>
  <p block-type="TextInlineMath">
   Here,
   <i>
    U
   </i>
   <sup>
    1
   </sup>
   and
   <i>
    U
   </i>
   <sup>
    2
   </sup>
   are utility functions. The restricted set
   <i>
    A (x)
   </i>
   consists of all those elements of
   <i>
    A(x)
   </i>
   where the expectation over the negative part of the utility functions in equation (9) is finite (ensuring that the expected value in expression (9) is defined).
  </p>
  <h4>
   <b>
    Remarks
   </b>
  </h4>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     1. Although
     <i>
      U
     </i>
     ≡ 0 is no utility function, we introduce the
     <i>
      pure consumption problem
     </i>
     by setting
     <i>
      U
     </i>
     <sup>
      2
     </sup>
     ≡ 0 and the
     <i>
      pure terminal wealth problem
     </i>
     by setting
     <i>
      U
     </i>
     <sup>
      1
     </sup>
     ≡ 0.
    </li>
    <li block-type="ListItem">
     2. In the literature, there are mainly two different classes of methods to solve the continuoustime portfolio problem. The
     <i>
      stochastic control method
     </i>
     pioneered by Merton (see, e.g., [7, 8]) is based on the identification of the expected utility
    </li>
   </ul>
  </p>
  <p block-type="Text">
   maximization problem as a stochastic control problem. The optimal solution is then computed by solving the so-called Hamilton–Jacobi– Bellman equation of dynamic programming (
   <i>
    see
   </i>
   <b>
    Stochastic Control
   </b>
   for details on the stochastic control method). The second method, the
   <i>
    martingale method
   </i>
   , is tailored around the specific properties of the market model. We describe it in more details below.
  </p>
  <h2>
   <b>
    The Martingale Method in the Complete Market Case
   </b>
  </h2>
  <p block-type="TextInlineMath">
   The martingale method goes back to [1, 2] and [9]. It relies on decomposing the dynamic portfolio problem (9) into two simpler subproblems, a static optimization problem and a representation problem. We demonstrate the martingale method in a complete market setting (i.e., we assume
   <i>
    m
   </i>
   =
   <i>
    n
   </i>
   ). Here, every contingent claim (i.e., the sum of a nonnegative terminal payment
   <i>
    B
   </i>
   and a payout process
   <i>
    g(t)
   </i>
   ) can be replicated by following a suitable portfolio strategy. Let us introduce the state-dependent discount process
  </p>
  <p block-type="Equation">
   <math display="block">
    H(t) := \exp\left(-\int_0^t (r(s) - 1/2 \|\theta(s)\|^2) \,\mathrm{d}s - \int_0^t \theta(s)' \,\mathrm{d}W(s)\right) \tag{10}
   </math>
  </p>
  <p block-type="TextInlineMath">
   with
   <i>
    θ (t )
   </i>
   :=
   <i>
    σ (t)
   </i>
   <sup>
    −
   </sup>
   <sup>
    1
   </sup>
   <i>
    (b(t)
   </i>
   −
   <i>
    r(t)
   </i>
   1
   <i>
    ).
   </i>
  </p>
  <p block-type="Text">
   The completeness of the market allows to treat the problems of finding the optimal final wealth and finding the corresponding optimal portfolio process separately. More precisely, if a final payment of
   <i>
    B
   </i>
   and a consumption process
   <i>
    c(t)
   </i>
   have an initial price satisfying
  </p>
  <p block-type="Equation">
   <math display="block">
    x = E\left(H(T)B + \int_0^T H(t)c(t) dt\right) \tag{11}
   </math>
  </p>
  <p block-type="TextInlineMath">
   then a portfolio process
   <i>
    (π, c)
   </i>
   ∈
   <i>
    A(x)
   </i>
   resulting in a final wealth of
   <i>
    B
   </i>
   always exists.
  </p>
  <p block-type="TextInlineMath">
   We demonstrate this in the case of a pure terminal wealth problem (i.e.,
   <i>
    U
   </i>
   <sup>
    1
   </sup>
   = 0): we decompose the portfolio problem into a
   <i>
    static optimization problem
   </i>
  </p>
  <p block-type="Equation">
   <math display="block">
    \max_{\mathbf{B}\in\mathcal{B}(x)}E(U(\mathcal{B}))\tag{12}
   </math>
  </p>
  <p block-type="TextInlineMath">
   with
   <math display="inline">
    B(x) := \{B | B \ge 0, f_T\}
   </math>
   - measurable,
   <math display="inline">
    E(H(T))
   </math>
   <math display="inline">
    B = x, E(U(B^{-})) &lt; \infty
   </math>
   being the set of all contingent claims
   <math display="inline">
    B
   </math>
   maturing at
   <math display="inline">
    T
   </math>
   and having an initial price of
   <math display="inline">
    x
   </math>
   , and the
   <i>
    representation problem
   </i>
   to find a portfolio process
   <math display="inline">
    \pi^* \in A'(x)
   </math>
   with
  </p>
  <p block-type="Equation">
   <math display="block">
    X^{x,\pi^*}(T) = B^* \quad a.s. \tag{13}
   </math>
  </p>
  <p block-type="Text">
   where
   <math display="inline">
    B^*
   </math>
   solves the static optimization problem (12).
  </p>
  <p block-type="Text">
   Note that the optimization problem
   <math display="inline">
    (12)
   </math>
   is simpler than the original portfolio problem (9) as we only have to optimize over a set of distributions and not over a class of stochastic processes. It can be solved directly with the help of convex optimization and Lagrangian multiplier considerations, even in the general case including consumption. To state the explicit form of the optimal final wealth and consumption we need the following notation:
  </p>
  <p block-type="Equation">
   <math display="block">
    I_2(\lambda) := (U_2')^{-1}(\lambda),
   </math>
   <br/>
   <math display="block">
    I_1(t,\lambda) := \left(\frac{\partial}{\partial x} U_1\right)^{-1}(t,\lambda)
   </math>
   (14)
  </p>
  <p block-type="Equation">
   <math display="block">
    G(\lambda) := E\left(H(T)I_2(\lambda H(T)) + \int_0^T H(t)I_1(t, \lambda H(t)) dt\right)
   </math>
   (15)
  </p>
  <p block-type="TextInlineMath">
   <b>
    Theorem 1
   </b>
   Let
   <math display="inline">
    x &gt; 0
   </math>
   . Under the assumption of
  </p>
  <p block-type="Equation">
   <math display="block">
    G(\lambda) &lt; \infty \quad \forall \lambda &gt; 0 \tag{16}
   </math>
  </p>
  <p block-type="TextInlineMath">
   the inverse function
   <math display="inline">
    \Lambda(x)
   </math>
   to
   <math display="inline">
    G(\lambda)
   </math>
   exists and the optimal terminal wealth
   <math display="inline">
    B^*
   </math>
   and the optimal consumption
   <i>
    process
   </i>
   <math display="inline">
    c^*(t)
   </math>
   ,
   <math display="inline">
    t \in [0, T]
   </math>
   , are given by
  </p>
  <p block-type="Equation">
   <math display="block">
    B^* = I_2(\Lambda(x)H(T)), \quad c^*(t) = I_1(t, \Lambda(x)H(t))
   </math>
   (17)
  </p>
  <p block-type="TextInlineMath">
   Further, there exists a portfolio process
   <math display="inline">
    \pi^*(t), t \in
   </math>
   <math display="inline">
    [0, T]
   </math>
   with
   <math display="inline">
    (\pi^*, c^*) \in A'(x)
   </math>
   ,
  </p>
  <p block-type="Equation">
   <math display="block">
    X^{\pi^*,c^*}(T) = B^*(T) \quad a.s. \tag{18}
   </math>
  </p>
  <p block-type="TextInlineMath">
   and
   <math display="inline">
    (\pi^*, c^*)
   </math>
   is the optimal strategy for the portfolio/consumption problem. Moreover, the optimal wealth process is given by
  </p>
  <p block-type="Equation">
   <math display="block">
    X^{\pi^*,c^*}(t) = E\left(\frac{H(T)}{H(t)}B^* + \int_t^T \frac{H(s)}{H(t)}c^*(s) \,\mathrm{d}s \bigg| \ f_t\right) \tag{19}
   </math>
  </p>
  <h4>
   <b>
    Remarks
   </b>
  </h4>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     1. While the optimization problem (12) is now explicitly solved up to the (possibly numerical) determination of the number
     <math display="inline">
      \Lambda(x)
     </math>
     , we have only stated existence of an optimal portfolio process
     <math display="inline">
      \pi^*
     </math>
     . Its explicit determination can be quite complicated and has to rely on very sophisticated methods such as Malliavin derivatives if the market coefficients are not constant and if the utility function is different from the logarithmic one of the example below.
    </li>
    <li block-type="ListItem">
     2. We obtain the solution to the pure terminal wealth problem from Theorem 1 by setting
     <math display="inline">
      U_1
     </math>
     and
     <math display="inline">
      I_1
     </math>
     equal to zero. Setting
     <math display="inline">
      U_2
     </math>
     and
     <math display="inline">
      I_2
     </math>
     equal to zero, we get the optimal solution of the consumption problem.
    </li>
   </ul>
  </p>
  <p block-type="TextInlineMath">
   <b>
    Example 1
   </b>
   Log-Utility In the case of
   <math display="inline">
    U_1(t,x) =
   </math>
   <math display="inline">
    U_2(x) = \ln(x)
   </math>
   , we can perform all the calculations explicitly to obtain the optimal final wealth
   <math display="inline">
    B^*
   </math>
   and the optimal consumption
   <math display="inline">
    c^*
   </math>
   as
  </p>
  <p block-type="Equation">
   <math display="block">
    B^* = \frac{x}{T+1} \frac{1}{H(T)}, \quad c^*(t) = \frac{x}{T+1} \frac{1}{H(t)} \quad (20)
   </math>
  </p>
  <p block-type="Text">
   From this, the optimal wealth process as given in equation
   <math display="inline">
    (19)
   </math>
   can be determined as
  </p>
  <p block-type="Equation">
   <math display="block">
    X^{\pi^*,c^*}(t) = E\left(\frac{H(T)}{H(t)}B^* + \int_t^T \frac{H(s)}{H(t)}c^*(s) \,ds \bigg| \ f_t\right)
   </math>
   <math display="block">
    = \frac{x(T-t+1)}{(T+t)} \frac{1}{H(t)} \tag{21}
   </math>
  </p>
  <p block-type="Text">
   By deriving the differential representation for it with the help of Itô's formula and comparing this representation with the general wealth equation (6), we can identify
  </p>
  <p block-type="Equation">
   <math display="block">
    c^*(t) = \frac{1}{T+1-t} X^{\pi^*, c^*}(t),
   </math>
   <br/>
   <math display="block">
    \pi^*(t) = (\sigma(t)\sigma(t)')^{-1}(b(t) - r(t)\underline{1}) \qquad (22)
   </math>
  </p>
  <p block-type="Text">
   Note that here the optimal consumption is proportional to the current wealth with an increasing proportionality factor ("Increase relative consumption with growing time.") The optimal fractions of wealth invested in the different securities only depend on the market coefficients and not on the wealth process itself. In particular, the fractions remain constant if the market coefficients are also constant.
  </p>
  <h2>
   The Martingale Method and
   <b>
    Mean-Variance Optimization
   </b>
  </h2>
  <p block-type="Text">
   In this section, we mention some possible generalizations of the martingale method. They will, in particular, allow us to treat a continuous-time version of the classical mean-variance problem (see [6] for the one-period model). For simplicity, we concentrate on the pure terminal wealth problem. Let us also relax the requirements on a utility function:
  </p>
  <p block-type="TextInlineMath">
   <b>
    Definition 3
   </b>
   A strictly concave function
   <math display="inline">
    U
   </math>
   :
   <math display="inline">
    (0,\infty) \to IR
   </math>
   with
   <math display="inline">
    U \in C^2
   </math>
   satisfying
  </p>
  <p block-type="Equation">
   <math display="block">
    U'(0) := \lim_{x \to 0} U'(x) &gt; 0,
   </math>
   <br/>
   <math display="block">
    U'(z) = 0 \text{ for } a \ z \in (0, +\infty]
   </math>
   (23)
  </p>
  <p block-type="Text">
   is called a (weak) utility function.
  </p>
  <h4>
   Remarks
  </h4>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     1. The most popular examples of utility functions in the sense of Definition 3, which do not satisfy the conditions of Definition 1, are
     <math display="inline">
      U(x) = \alpha
     </math>
     –
     <math display="inline">
      \exp(-\lambda x)
     </math>
     for
     <math display="inline">
      \alpha
     </math>
     ,
     <math display="inline">
      \lambda &gt; 0
     </math>
     , the exponential utility function, and
     <math display="inline">
      U(x) = -1/2(x - K)^2
     </math>
     for
     <math display="inline">
      K &gt; 0
     </math>
     . the quadratic utility function.
    </li>
    <li block-type="ListItem">
     2. One can show (see [3], Chapter 3) that with the generalized inverse function
    </li>
   </ul>
  </p>
  <p block-type="Equation">
   <math display="block">
    I(\lambda) := \begin{cases} (U')^{-1}(\lambda), &amp; \lambda \in [0, U'(0)] \\ 0, &amp; \lambda \ge U'(0) \end{cases} \tag{24}
   </math>
  </p>
  <p block-type="Text">
   the results of Theorem 1 remain true in the case that the investor cannot afford to reach the point of maximum utility for sure. This is always the case if we have
  </p>
  <p block-type="Equation">
   <math display="block">
    x &lt; z \cdot E(H(T)) \tag{25}
   </math>
  </p>
  <p block-type="TextInlineMath">
   Example 2 Quadratic Utility In the case of
   <math display="inline">
    U(x) = -1/2(x - K)^2
   </math>
   and
   <math display="inline">
    x &lt; z \cdot E(H(T))
   </math>
   using Theorem 1 in the sense of the preceding remark leads to the optimal terminal wealth of
  </p>
  <p block-type="Equation">
   <math display="block">
    B^* = I(\Lambda(x)H(T)) = (K - \Lambda(x)H(T))^+ \quad (26)
   </math>
  </p>
  <p block-type="Text">
   where the number
   <math display="inline">
    \Lambda(x)
   </math>
   is the unique solution of the equation
  </p>
  <p block-type="Equation">
   <math display="block">
    G(\lambda) = E(H(T)(K - \lambda H(T))^{+}) = x \qquad (27)
   </math>
  </p>
  <p block-type="TextInlineMath" class="has-continuation">
   In the particular case of constant market coefficients and only one stock, that is,
   <math display="inline">
    n = m = 1
   </math>
   we can
  </p>
  <p block-type="TextInlineMath">
   calculate
   <math display="inline">
    G(\lambda)
   </math>
   explicitly as
  </p>
  <p block-type="Equation">
   <math display="block">
    G(\lambda) = K \ e^{-rT} \Phi\left(\frac{\ln(K/\lambda) + (r - 1/2\theta^2)T}{\theta\sqrt{T}}\right)
   </math>
   <math display="block">
    - \lambda e^{(-2r + \theta^2)T} \Phi\left(\frac{\ln(K/\lambda) + (r - 3/2\theta^2)T}{\theta\sqrt{T}}\right)
   </math>
   (28)
  </p>
  <p block-type="TextInlineMath">
   with
   <math display="inline">
    \theta := (b_1 - r)/\sigma_{11}
   </math>
   . We can then easily solve equation (27) by numerical methods. One can compute the corresponding portfolio process
   <math display="inline">
    \pi^*
   </math>
   as indicated in [4]. This, however, is quite technical and requires the solution of a partial differential equation.
  </p>
  <p block-type="Text">
   For dealing with constrained terminal wealth problems of the form
  </p>
  <p block-type="Equation">
   <math display="block">
    \max_{\pi \in A'_T(x)} E(U(X^{\pi}(T)))
   </math>
   <br/>
   subject to
   <math>
    E(G_i(X^{\pi}(T))) \le 0, i = 1, \dots, k
   </math>
   (29)
  </p>
  <p block-type="TextInlineMath">
   with the functions
   <math display="inline">
    G_i
   </math>
   being real valued and convex, we introduce the Lagrangian function
  </p>
  <p block-type="Equation">
   <math display="block">
    L(\pi, d) := E((U - d'G)(X^{\pi}(T))),
   </math>
   <br/>
   <math display="block">
    \pi \in A'(x), \ d \in [0, \infty)^k
   </math>
   (30)
  </p>
  <p block-type="Text">
   Here, the subscript
   <math display="inline">
    T
   </math>
   of the set of admissible portfolio processes indicates that they also have to be admissible for the constrained problem, that is, the expectations in the constraints have to be defined and have to be satisfied (in addition to the usual requirement of a nonnegative wealth process). Then, in [5] under assumption (25) it is proved that—given the existence of a solution to the constrained problem
   <math display="inline">
    (29)
   </math>
   —we obtain a solution to this problem by using the following algorithm:
  </p>
  <p block-type="Text">
   <b>
    Step 1.
   </b>
   Solve the unconstrained portfolio problem
  </p>
  <p block-type="Equation">
   <math display="block">
    \max_{\pi \in A'(x)} L(\pi, d) \tag{31}
   </math>
  </p>
  <p block-type="Text">
   by the martingale method for fixed, but arbitrary
   <math display="inline">
    d \in [0, \infty)^k
   </math>
  </p>
  <p block-type="Text">
   Minimize the function
   <math display="inline">
    L(\pi^*(d), d)
   </math>
   with Step 2. respect to
   <math display="inline">
    d \in [0, \infty)^k
   </math>
   where
   <math display="inline">
    \pi^*(d)
   </math>
   is an optimal portfolio process for the maximization problem of Step 1.
  </p>
  <p block-type="Text" class="has-continuation">
   Example 3 Continuous-Time Mean-Variance
   <b>
    Optimization
   </b>
   As an application, we solve a continuous-time version of the famous Markowitz mean-
  </p>
  <p block-type="TextInlineMath">
   variance problem. The special feature of our solution is that we can guarantee nonnegativity of the final wealth process. This problem is intensively dealt with in the literature starting with [5] and generalized in a series of papers by Zhou
   <i>
    et al.
   </i>
   (see, e.g., [10]). Again, we assume that we are in the setting of constant market coefficients and
   <math display="inline">
    n = m = 1
   </math>
   . Then, one can show that under the assumption of
  </p>
  <p block-type="Equation">
   <math display="block">
    x &lt; Ke^{-rT} \tag{32}
   </math>
  </p>
  <p block-type="Text">
   the continuous-time mean-variance problem
  </p>
  <p block-type="Equation">
   <math display="block">
    \min_{\substack{\pi \in A'_T(y), y \le x}} Var(X^{\pi}(T))
   </math>
   <br/>
   subject to
   <math>
    E(X^{\pi}(T)) \ge K
   </math>
   (33)
  </p>
  <p block-type="TextInlineMath">
   (with
   <math display="inline">
    K &gt; 0
   </math>
   a given constant) is equivalent to solving
  </p>
  <p block-type="Equation">
   <math display="block">
    \max_{\pi \in A'_T(x)} E(-1/2(X^{\pi}(T) - K)^2)
   </math>
   <br/>
   subject to
   <math>
    K - E(X^{\pi}(T)) &lt; 0
   </math>
   (34)
  </p>
  <p block-type="Text">
   This, however, is a problem that can be solved by the above two-step algorithm. If in addition one realizes that we have
  </p>
  <p block-type="Equation">
   <math display="block">
    L(\pi, d) = 1/2d^2
   </math>
   <br/>
   +
   <math display="block">
    \max_{\pi \in A'_T(x)} E(-1/2(X^{\pi}(T) - (K+d))^2)
   </math>
   <br/>
   (35)
  </p>
  <p block-type="Text">
   we can use the calculations of the quadratic utility case to solve the unconstrained portfolio problems. A deterministic minimization in
   <math display="inline">
    d &gt; 0
   </math>
   then yields the solution to the continuous-time mean-variance problem under nonnegativity constraints on the terminal wealth.
  </p>
  <p block-type="Text">
   The martingale method can also be applied to portfolio problems in incomplete markets. Then, however, convex duality methods have to be used to deal with constraints on the portfolio process or with the fact that the underlying market model is not
  </p>
  <p block-type="Text">
   complete (see Chapter 4 of [3] for a survey on such constrained problems)
  </p>
  <h4>
   References
  </h4>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     Cox, J. &amp; Huang, C.F. (1989). Optimal consumption and [1] portfolio policies when asset prices follow a diffusion process, Journal of Economic Theory 49, 33-83.
    </li>
    <li block-type="ListItem">
     Karatzas, I., Lehoczky, J.P. &amp; Shreve, S.E. (1987). [2] Optimal portfolio and consumption decisions for a "small investor" on a finite horizon, SIAM Journal on Control and Optimization 27, 1157-1186.
    </li>
    <li block-type="ListItem">
     Korn, R. (1997). Optimal Portfolios, World Scientific, [3] Singapore.
    </li>
    <li block-type="ListItem">
     Korn, R. (1997). Some applications of L&lt;sup&gt;2&lt;/sup&gt;-hedging with [4] a non-negative wealth process, Applied Mathematical Finance 4, 65-79.
    </li>
    <li block-type="ListItem">
     [5] Korn, R. &amp; Trautmann, S. (1995). Continuous-time portfolio optimization under terminal wealth constraints, Zeitschrift für Operations Research 42, 69-92.
    </li>
    <li block-type="ListItem">
     [6] Markowitz, H. (1952). Portfolio selection, Journal of Finance 7, 77-91.
    </li>
    <li block-type="ListItem">
     Merton, R.C. (1969). Lifetime portfolio selection under [7] uncertainty: the continuous case, Reviews of Economical Statistics 51, 247-257.
    </li>
    <li block-type="ListItem">
     [8] Merton, R.C. (1971). Optimum consumption and portfolio rules in a continuous time model, Journal of Economic Theory 3, 373-413.
    </li>
    <li block-type="ListItem">
     Pliska, S. (1986). A stochastic calculus model of contin-[9] uous trading: optimal portfolios, Mathematics of Operations Research 11, 371-382.
    </li>
    <li block-type="ListItem">
     Zhou, X. &amp; Li, D. (2000). Continuous-time mean-
     <math display="inline">
      [10]
     </math>
     variance portfolio selection: a stochastic LQ framework, Applied Mathematics and Optimization 42, 19-33.
    </li>
   </ul>
  </p>
  <h3>
   <b>
    Related Articles
   </b>
  </h3>
  <p block-type="Text">
   <b>
    Expected Utility Maximization: Duality Methods;
   </b>
   Mean-Variance Hedging; Merton Problem; Risk-Return Analysis; Stochastic Control; Utility Function.
  </p>
  <p block-type="Text">
   RALF KORN
  </p>
 </body>
</html>
