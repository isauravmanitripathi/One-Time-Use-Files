# **Automated Trading**

Technological change has revolutionized the way financial assets are traded. Investors place orders via computer rather than speaking to a broker on the phone. Trading floors have largely been replaced by electronic trading platforms [15]. The nature of order execution has changed dramatically as well, as many market participants now employ algorithmic trading (AT), commonly defined as the use of computer algorithms to manage the trading process. Starting from near zero in the 1990s, by 2007 AT was responsible for roughly one-third of trading volume in the United States and is expected to account for perhaps half of trading volume by 2010 [8]. The intense activity generated by algorithms threatens to overwhelm exchanges and market data providers [9], forcing significant upgrades to their infrastructures [8].

Before algorithmic trading, a pension fund manager wanting to buy 100000 shares of IBM might have hired a broker-dealer to search for a counterparty to execute the entire quantity at once in a block trade. Alternatively, that institutional investor might have hired a broker to quietly "work" the order (possibly on the floor of the New York Stock Exchange), using his/her judgment and discretion to buy a little bit here and there over the course of the trading day to keep from driving the IBM share price up too far (see [16] for evidence of large orders being broken up). As trading became more electronic, it became easier and cheaper to replicate the human trader with a computer program doing algorithmic trading. Now virtually every large broker-dealer offers a suite of algorithms to its institutional customers to help them execute orders in a single stock, in pairs of stocks, or in baskets of stocks. Algorithms typically determine the timing, price, and quantity of orders, dynamically monitoring market conditions across different securities and trading venues, reducing market impact by optimally (and possibly randomly) breaking large orders into smaller pieces, and closely tracking benchmarks such as the volume-weighted average price (VWAP) over the execution interval.

## **Algorithms for Executing Large Orders**

Execution of trades over a trading horizon involves complex dynamic optimization problems to determine order size, order frequency, and order type.

Bertsimas and Lo [3] study optimal execution strategies in the presence of temporary price impacts. Conditional on the constraint of completing the entire transaction by a fixed date, orders are broken into pieces so as to minimize cost. Almgren and Chriss [1] extend this by considering the risk that arises from breaking up orders and slowly executing them. In the basic Almgren and Chriss setup, the authors first assume an initial holding of  $x_0 = X$  units of a security that must be completely liquidated before time T. Dividing T into N intervals of length  $\tau =$  $T/N$  and defining the discrete times  $t_k = k \tau$ , for  $k = 0, \ldots, N$ , they solve for the optimal holdings,  $x_k$ , at each time  $t_k$ . Equivalently, this can be formulated as the series of trades to accomplish this liquidation, with  $n_k = x_k - x_{k-1}$  being the number of units sold between times  $t_{k-1}$  and  $t_k$ . To capture the risk involved in the trading process (see [10] for the relationship between execution risk and investment risk), a price process for the security must be specified:

$$S_k = S_{k-1} + \sigma \tau^{1/2} \xi_k - \tau g\left(\frac{n_k}{\tau}\right) \tag{1}$$

for  $k = 0; \ldots, N$ . Here  $\sigma$  represents the volatility of the asset, the  $\xi_k$  are draws from independent random variables each with zero mean and unit variance, and the permanent price impact of the trade,  $g(v)$ , is a function of the average rate of trading  $v = n_k/\tau$ during the interval  $t_{k-1}$  and  $t_k$ . In addition, there may be a temporary price impact function,  $h(v)$ , which captures the temporary drop in average price per share caused by trading at average rate  $v$  during a time interval. Thus, the actual price per share received on sale  $k$  is

$$\tilde{S}_k = S_{k-1} - h\left(\frac{n_k}{\tau}\right) \tag{2}$$

where  $h(v)$  does not impact the subsequent market price  $S_k$ .  $g(v)$  and  $h(v)$  can be chosen to reflect the trader's beliefs about market dynamics and market microstructure.

By combining these and summing across periods, the proceeds of the liquidation are obtained:

$$\sum_{k=1}^{N} n_k \tilde{S}_k = X S_0 + \sum_{k=1}^{N} \left( \sigma \ \tau^{1/2} \xi_k - \tau g \left( \frac{n_k}{\tau} \right) \right) x_k$$
$$- \sum_{k=1}^{N} n_k h \left( \frac{n_k}{\tau} \right) \tag{3}$$

with the first term being the initial market value, the middle term including both the volatility and the permanent price impacts, and the final term being the temporary price impacts. Calculating the expected cost of trading, *C(x)*, as the difference between the initial value and the proceeds of the sales,we get

$$C(x) = \sum_{k=1}^{N} x_k g\left(\frac{n_k}{\tau}\right) + n_k h\left(\frac{n_k}{\tau}\right) \tag{4}$$

The variance of *C(x)* is

$$V(C(x)) = \sigma^2 \tau \sum_{k=1}^{N} x_k^2 \tag{5}$$

Using this setup, Almgren and Chriss calculate the mean-variance efficient frontier for trading/liquidation strategies. Furthermore, assuming the objective is to minimize the function *C(x)* − *λ V (C(x))*, they calculate the optimal strategies for various values of *λ*. Almgren and Chriss show that as long as the parameters are fixed and known in advance, the optimal trading strategy can be calculated in advance and does not need to be updated dynamically. The calculation of such strategies may still be complex depending on the functional form of the permanent and transitory price impact functions *g(v)* and *h(v)*. Some typical impact functions include power functions, weighted sums of linear and nonlinear functions, and exponential decay functions. The significant computer power often required to find the optimum under complex price impact functions makes implementation *via* algorithms attractive.

Numerous features have been added to the above model that significantly increase the complexity of the calculations and algorithms needed to find and implement the optimal trading strategies. Some of the most common enhancements include portfolio considerations and modeling the information that motivates the trade. Obizhaeva and Wang [20] optimize trading strategies assuming that liquidity does not replenish immediately after it is taken but only gradually over time. Algorithms can be improved by modeling variation within and across days to account for changing market conditions and predictable price movements [2]. Kissell and Malamut [17] discuss how trading should be sped up or slowed down conditional on traders' beliefs about whether past prices changes will mean reverting or continue. Many brokers build models with these considerations into their AT products that they sell to their clients.

The above optimal execution approaches either abstract away from the market mechanism or assume liquidity is taken *via* market orders. Implementation strategies that allow for more passive trading strategies enable the algorithm/trader to choose the type and aggressiveness of each order/component of the larger transaction. Cohen *et al.* [6] and Harris [13] focus on the simplest choice: market order *versus* limit order. If a trader chooses a nonmarketable limit order, the aggressiveness of the order is determined by its limit price [12] and [21]. How aggressively a limit order should be priced depends on how price affects the time to execution [19]. For assets that trade on multiple venues, determining where to send orders adds further complexity.

### **Market-making Algorithms**

Many observers think of algorithms from the standpoint of institutional buy-side investor, but there are other important users of algorithms. Some hedge funds and broker-dealers supply liquidity using algorithms, competing with designated market-makers and other liquidity suppliers.

Most models take the traditional view that one set of traders provides liquidity *via* quotes or limit orders and another set of traders initiates a trade to take that liquidity— for either informational or liquidity/hedging motivations. Liquidity supply involves posting firm commitments to trade. These standing orders provide free trading options to other traders. Using standard option pricing techniques, Copeland and Galai [7] value the cost of the option granted by liquidity suppliers. The arrival of public information renders existing orders stale and can put the free trading option into the money. Biais *et al.* [4] provide a general theoretical framework for a liquidity supply price schedule *qt(p)* at time *t*:

$$\frac{\text{Max}}{q_t(p)} EU(C_t + I_t v_t + (v_t - p)q_t(p)|H_t) \qquad (6)$$

where *U (x)* is the utility function, *Ct* is the cash, *It* is the inventory of the security, *vt* is the expected fundamental value, and *Ht* is the information set available. The use of algorithms in managing this price schedule (quotes) lowers the cost of monitoring changes in the information set due to changes in information and prices regarding that security or any related security. Any time an announcement, trade, or quote change occurs in any security, a liquidity provider may want to revise their prices and quantities. Foucault *et al.* [11] study the equilibrium level of effort that liquidity suppliers should expend in monitoring the market to avoid this picking off risk. Improvements in technology allow algorithms to inexpensively perform such monitoring. In this way, AT may be a way to implement Black's [5] idea of limit orders indexed to a market index.

The widespread adoption of algorithms by traders supplying and demanding liquidity has led some observers to liken the situation to an arms' race [18]. While evidence points to algorithmic trading improving liquidity [14], the growing dominance of algorithms in trading makes their impact worthy of continued study.

### **References**

- [1] Almgren, R. & Chriss, N. (2000). Optimal execution of portfolio transactions, *Journal of Risk* **3**, 5–39.
- [2] Almgren, R. & Lorenz, J. (2006). Bayesian adaptive trading with a daily cycle, *Journal of Trading* **1**, 38–46.
- [3] Bertsimas, D. & Lo, A.W. (1998). Optimal control of execution costs, *Journal of Financial Markets* **1**, 1–50.
- [4] Biais, B., Glosten, L. & Spatt, C. (2005). Market microstructure: a survey of microfoundations, empirical results and policy implications, *Journal of Financial Markets* **8**, 217–264.
- [5] Black, F. (1995). Equilibrium exchanges, *Financial Analysts Journal* **51**, 23–29.
- [6] Cohen, K., Maier, S., Schwartz, R. & Whitcomb, D. (1981). Transaction costs, order placement strategy and existence of the bid-ask spread, *Journal of Political Economy* **89**, 287–305.
- [7] Copeland, T.E. & Galai, D. (1983). Information effects on the bid-ask spread, *Journal of Finance* **38**, 1457–1469.
- [8] Economist (2007). Ahead of the tape–algorithmic trading, *Economist* **383**, 85.
- [9] Economist (2007). Dodgy tickers–stock exchanges, *Economist* **382**, 74.

- [10] Engle, R.F. & Ferstenberg, R. (2007). Execution risk, *Journal of Portfolio Management* **33**, 34–45.
- [11] Foucault, T., Roell, A. & Sandas, P. (2003). Market making with costly monitoring: an analysis of the SOES controversy, *The Review of Financial Studies* **16**, 345–384.
- [12] Griffiths, M., Smith, B., Turnbull, D.A. & White, R. (2000). The costs and determinants of order aggressiveness, *Journal of Financial Economics* **56**, 65–88.
- [13] Harris, L. (1998). Optimal dynamic order submission strategies in some stylized trading problems, *Financial Markets, Institutions, and Instruments* **7**, 1–76.
- [14] Hendershott, T., Jones, C. & Menkveld, A. (2008). *Does Algorithmic Trading Improve Liquidity?* Technical Report, Working Paper, UC Berkeley.
- [15] Jain, P.K. (2005). Financial market design and the equity premium: electronic versus floor trading, *Journal of Finance* **60**, 2955–2985.
- [16] Keim, D. & Madhavan, A. (1995). Anatomy of the trading process: empirical evidence on the behavior of institutional traders, *Journal of Financial Economics* **37**, 371–398.
- [17] Kissell, R. & Malamut, R. (2006). Algorithmic decision making framework, *Journal of Trading* **1**, 12–21.
- [18] Leinweber, D. (2007). Algo vs. Algo, *Institutional Investor's Alpha* **2**, 45–51.
- [19] Lo, W.A., MacKinlay, A.C. & Zhang, J. (2002). Econometric models of limit-order executions, *Journal of Financial Economics* **65**, 31–71.
- [20] Obizhaeva, A. & Wang, J. (2005). *Optimal Trading Strategy and Supply/Demand Dynamics*. MIT working paper.
- [21] Ranaldo, A. (2004). Order aggressiveness in limit order book markets, *Journal of Financial Markets* **7**, 53–74.

### **Related Articles**

**Algorithmic Trading**; **Bid–Ask Spreads**; **Execution Costs**; **Price Impact**; **Specialist Markets**.

TERRENCE HENDERSHOTT