<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
 </head>
 <body>
  <h1>
   <b>
    Parisian Option
   </b>
  </h1>
  <p block-type="Text">
   Parisian options are barrier options that are activated or canceled—depending on the type of option—if the underlying asset has been continuously traded above or below the barrier level long enough. A down-and-out Parisian option denotes a contract that expires worthless if the underlying asset reaches a prespecified level
   <math display="inline">
    L
   </math>
   and remains constantly below this level for a time interval longer than a fixed number
   <math display="inline">
    D
   </math>
   , called the
   <i>
    window
   </i>
   . Its price (for a call option) at time
   <math display="inline">
    0
   </math>
   is given by
  </p>
  <p block-type="Equation">
   <math display="block">
    \phi(T,K) := e^{-rT} \mathbb{E}\left[ (S_T - K)^+ \mathbb{1}_{T_L^{D,-}(S) &gt; T} \right] \quad (1)
   </math>
  </p>
  <p block-type="TextInlineMath">
   where
   <math display="inline">
    T_L^{D,-}(S)
   </math>
   is the first time the asset S makes an excursion longer than
   <math display="inline">
    D
   </math>
   below
   <math display="inline">
    L
   </math>
   . Parisianstyle options are mostly encountered in convertible bonds with "soft-call" provision for conversion. For example, the bond's specifications may be such that conversion will be allowed if and only if the share price remains above a theoretical price for a given amount of time, for example, 20 business days prior to the conversion date (this is Parisian option). Other covenants stipulate that the average share price trades for
   <math display="inline">
    n
   </math>
   days above the trigger level. While the latter does not correspond
   <i>
    sensu stricto
   </i>
   to a Parisian option, the motivation is similar: to render the conversion rule more stable—and less prone to manipulation—basing it on the behavior of the stock price over a window of time as opposed to basing it on the (more volatile) spot price. The pioneer paper on that topic is owed to Chesney et al., [5]. Pricing Parisian options is a challenging issue and several methods have been proposed in the literature: Monte Carlo simulations, Laplace transforms, lattices, and partial differential equations.
  </p>
  <h4>
   <b>
    Monte Carlo Method
   </b>
  </h4>
  <p block-type="TextInlineMath">
   As for standard barrier options, using simulations leads to a biased problem, owing to the choice of the discretization time step in the Monte Carlo algorithm. Baldi et al., [3] have developed a method based on sharp large deviation estimates, which improves the usual Monte Carlo procedure. It consists in providing an approximation of
   <math display="inline">
    p^{\epsilon}
   </math>
   —the probability that a Brownian bridge reaches a time-dependent barrier
  </p>
  <p block-type="TextInlineMath">
   over a time of length
   <math display="inline">
    \epsilon
   </math>
   —by studying its asymptotic behavior when
   <math display="inline">
    \epsilon
   </math>
   tends to 0. They derive precise estimates of
   <math display="inline">
    g_{L,t}^S := \sup\{u \le t | S_u = L\}
   </math>
   , which is, for a down-and-out Parisian option, related to
   <math display="inline">
    T_L^{D,-}(S)
   </math>
   by the following formula:
   <math display="inline">
    T_L^{D,-}(S) := \inf\{t &gt; 0 : (t - g_{L,t}^S) \mathbb{1}_{S_t &lt; L} &gt; D\}
   </math>
   . This procedure still works when the asset follows a diffusion process with general coefficients.
  </p>
  <h3>
   <b>
    Laplace Transforms
   </b>
  </h3>
  <p block-type="Text">
   The idea of using Laplace transforms for pricing Parisian options is owed to Chesney et al., [5]. By using the Brownian excursion theory, they get closed formulas for
  </p>
  <p block-type="Equation">
   <math display="block">
    \int_0^\infty dt \, \mathrm{e}^{-\lambda t} \phi(t, K) \tag{2}
   </math>
  </p>
  <p block-type="Text">
   the Laplace transform of the price with respect to the maturity time.
  </p>
  <p block-type="TextInlineMath">
   For models with constant parameters, when considering a down and in call option, one rewrites
   <math display="inline">
    \phi(T, K)
   </math>
   as
  </p>
  <p block-type="Equation">
   <math display="block">
    e^{-\left(r+\frac{m^{2}}{2}\right)T}\mathbb{E}_{\mathbb{P}}\left(\mathbb{1}_{T_{b}^{D,-}&lt; T}\left(xe^{\sigma Z_{T}}-K\right)^{+}e^{mZ_{T}}\right) \tag{3}
   </math>
  </p>
  <p block-type="TextInlineMath">
   where Z is a
   <math display="inline">
    \mathbb{P}
   </math>
   -Brownian motion,
   <i>
    m
   </i>
   depends on r and
   <math display="inline">
    \sigma
   </math>
   , and
   <math display="inline">
    T_b^{D,-} := T_b^{D,-}(Z)
   </math>
   is the first time Z makes an excursion below
   <math display="inline">
    b := \frac{1}{\sigma} \log(L/S_0)
   </math>
   longer than
   <math display="inline">
    D
   </math>
   . By using the Brownian motion excursion theory, notably the Azéma martingale and the Brownian meander, the density of
   <math display="inline">
    Z_{T^{D,-}}
   </math>
   can be obtained and it can be shown that
   <math display="inline">
    T_b^{D,-}
   </math>
   and
   <math display="inline">
    Z_{T_b^{D,-}}
   </math>
   are independent. There is no explicit formula for the density of
   <math display="inline">
    T_b^{D,-}
   </math>
   , but we only know its Laplace transform. The strong Markov property enables to introduce
   <math display="inline">
    Z_{T^{D,-}}
   </math>
   in equation
   <math display="inline">
    (3)
   </math>
   . We rewrite equation
   <math display="inline">
    (3)
   </math>
   as
  </p>
  <p block-type="Equation">
   <math display="block">
    \int_{-\infty}^{\infty} \mathbb{E}_{\mathbb{P}}(\mathbb{1}_{T^{D,-}_{b} &lt; T} \mathcal{P}_{T-T^{D,-}_{b}}(f_{x})(z)) \nu^{-}(\mathrm{d}z) \qquad (4)
   </math>
  </p>
  <p block-type="TextInlineMath" class="has-continuation">
   where
   <math display="inline">
    \nu^-
   </math>
   denotes the law of
   <math display="inline">
    Z_{T^{D,-}}
   </math>
   ,
   <math display="inline">
    f_x(z) =
   </math>
   <math display="inline">
    e^{-(r+m^2/2)T}e^{mz}(xe^{\sigma z}-K)^{+}
   </math>
   , and
   <math display="inline">
    \mathcal{P}_{t}^{'}(f_{x})(z)=1/
   </math>
   <math display="inline">
    \sqrt{2\pi t} \int_{-\infty}^{\infty} f_x(u) \exp\left(-(u-z)^2/2t\right) du
   </math>
   . It remains to compute the Laplace transform of equation (4) with respect to the maturity. A change of variables
  </p>
  <p block-type="TextInlineMath">
   introduces the Laplace transform of
   <math display="inline">
    T_b^{D,-}
   </math>
   , which is explicitly known. This leads to a closed formula.
  </p>
  <p block-type="Text">
   We refer the reader to
   <math display="inline">
    [1]
   </math>
   for the description of a fast and accurate numerical inversion of the Laplace transforms. By studying the regularity of the Parisian option prices with respect to the maturity time, Labart and Lelong [9] justify the accuracy of the numerical inversion. Except for particular values of the barrier, the prices are of class
   <math display="inline">
    C^{\infty}
   </math>
   . Their study relies on the existence and the regularity of a density for the Parisian time
   <math display="inline">
    T_b^{D,-}
   </math>
   .
  </p>
  <p block-type="Text">
   This algorithm is implemented in
   <math display="inline">
    [4]
   </math>
   and is compared to a procedure for approximating a general Laplace transform with one that can be easily inverted. The Laplace transform approach is very specific to the problem, but practically we see that the lack in the flexibility of the method is compensated by its accuracy and computational speed.
  </p>
  <h2>
   Lattices
  </h2>
  <p block-type="Text">
   Costabile [6] presents a discrete time algorithm to evaluate Parisian options. The evaluation method is based on a combinatorial approach used to count the number of trajectories of a particle which, moving in a binomial lattice, remains constantly above an upper barrier for time intervals strictly smaller than a prespecified window period. Once this number has been computed, it can be used to derive a binomial algorithm, based on the Cox-Ross-Rubinstein (CRR) model (see
   <b>
    Binomial Tree
   </b>
   or
   <b>
    Tree Methods
   </b>
   ). It enables to evaluate Parisian options with a constant or an exponential barrier. Avellaneda and Wu [2] model and price Parisian-style options by a trinomial lattice method, which changes with the value of the asset with respect to the barrier.
  </p>
  <h1>
   <b>
    Partial Differential Equations
   </b>
  </h1>
  <p block-type="TextInlineMath">
   Pricing of Parisian options can be done using partial differential equations. Let
   <math display="inline">
    \tau
   </math>
   define the time the underlying asset has continuously spent in the excursion. For a down Parisian option,
   <math display="inline">
    \tau := t - \sup\{t' &lt;
   </math>
   <math display="inline">
    t|S_{t'} &gt; L
   </math>
   . The dynamics of
   <math display="inline">
    \tau
   </math>
   is
  </p>
  <p block-type="Equation">
   <math display="block">
    \mathrm{d}\tau_t = \begin{cases} \mathrm{d}t &amp; \text{if} \quad S_t &lt; L, \\ -\tau_{t^-} &amp; \text{if} \quad S_t = L, \\ 0 &amp; \text{if} \quad S_t &lt; L \end{cases} \tag{5}
   </math>
  </p>
  <p block-type="Text">
   The new state variable
   <math display="inline">
    \tau
   </math>
   can be viewed as a clock that starts ticking as soon as the share price crosses the barrier level and is immediately reset when the share price returns above
   <math display="inline">
    L
   </math>
   . We assume that the asset follows a log normal Brownian motion given by
   <math display="inline">
    dS_t = \mu S_t dt + \sigma S_t dW_t
   </math>
   . The option price is a function of S, t,
   <math display="inline">
    \tau
   </math>
   . If
   <math display="inline">
    S &gt; L
   </math>
   , the governing equation is the standard Black Scholes equation:
  </p>
  <p block-type="Equation">
   <math display="block">
    \frac{\partial V}{\partial t} + \frac{1}{2}\sigma^2 S^2 \frac{\partial^2 V}{\partial S^2} + rS \frac{\partial V}{\partial S} - rV = 0 \qquad (6)
   </math>
  </p>
  <p block-type="Text">
   If
   <math display="inline">
    S \leq L
   </math>
   ,
   <math display="inline">
    \tau
   </math>
   is ticking. The new governing equation is
  </p>
  <p block-type="Equation">
   <math display="block">
    \frac{\partial V}{\partial t} + \frac{1}{2}\sigma^2 S^2 \frac{\partial^2 V}{\partial S^2} + rS \frac{\partial V}{\partial S} + \frac{\partial V}{\partial \tau} - rV = 0 \quad (7)
   </math>
  </p>
  <p block-type="TextInlineMath">
   The boundary conditions are the following: the pathwise continuity of V in
   <math display="inline">
    S = L
   </math>
   leads to
   <math display="inline">
    V(L, t, \tau) =
   </math>
   <math display="inline">
    V(L, t, 0)
   </math>
   for all t, and
  </p>
  <p block-type="Equation">
   <math display="block">
    V(S, T, \tau) = (S_T - K)^{+} \quad \text{if } \tau &lt; D,
   </math>
   <br/>
   <math display="block">
    V(S, T, \tau) = 0 \quad \text{otherwise}
   </math>
   (8)
  </p>
  <p block-type="Text">
   In the study of Haber et al. [8], the numerical solution to equations
   <math display="inline">
    (6)
   </math>
   and
   <math display="inline">
    (7)
   </math>
   is implemented using an explicit finite difference scheme. In the case of a discrete monitoring of the contract, Vetzal and Forsyth [7] develop an algorithm based on the numerical solution of a system of one-dimensional PDEs. It is assumed that
   <math display="inline">
    \tau
   </math>
   only changes at observation dates with the value of
   <math display="inline">
    S
   </math>
   with respect to the barrier. Away from observation dates, the PDE satisfied by
   <math display="inline">
    V
   </math>
   does not depend on
   <math display="inline">
    \tau
   </math>
   . Then, the pricing problems consist of a small number of one-dimensional PDEs, which exchange information only at observation dates (we impose the continuity of
   <math display="inline">
    V
   </math>
   ).
  </p>
  <p block-type="Text">
   These methods have one major benefit: they are flexible enough to be easily modified to price more general options, like Parisian (i.e., when the recorded duration is cumulative rather than continuous).
  </p>
  <h2>
   <b>
    Double Parisian
   </b>
  </h2>
  <p block-type="Text" class="has-continuation">
   There exists a double barrier version of the standard Parisian options. Double Parisian options are barrier options that are activated or canceled if the underlying asset continuously remains outside a range
  </p>
  <p block-type="TextInlineMath">
   <math display="inline">
    [L_1, L_2]
   </math>
   long enough. The price of a double Parisian out call at time
   <math display="inline">
    0
   </math>
   is given by
  </p>
  <p block-type="Equation">
   <math display="block">
    e^{-rT} \mathbb{E}\left[ (S_T - K)^+ \mathbb{1}_{T^{D,-}_{L_1}(S) &gt; T} \mathbb{1}_{T^{D,+}_{L_2}(S) &gt; T} \right] \tag{9}
   </math>
  </p>
  <p block-type="Text">
   These double Parisian options can be priced using the Monte Carlo procedure improved with the sharp large deviation method proposed by Baldi, Caramellino, and Iovino [3]. Labart and Lelong [9] give analytical formulas for the Laplace transforms of the prices with respect to the maturity time.
  </p>
  <h4>
   References
  </h4>
  <p block-type="ListGroup" class="has-continuation">
   <ul>
    <li block-type="ListItem">
     [1] Abate, J., Choudhury, L.G. &amp; Whitt, G. (1999). An introduction to numerical transform inversion and its application to probability models, in
     <i>
      Computational Probability
     </i>
     , W. Grassman, ed., Kluwer, Boston, pp. 257-323.
    </li>
    <li block-type="ListItem">
     [2] Avellaneda, M. &amp; Wu, L. (1999). Pricing Parisian-style options with a lattice method, International Journal of Theoretical and Applied Finance
     <math display="inline">
      2(1)
     </math>
     , 1–16.
    </li>
    <li block-type="ListItem">
     Baldi, P., Caramellino, L. &amp; Iovino, M.G. (2000). Pricing [3] complex barrier options with general features using sharp large deviation estimates, in Monte Carlo and Quasi-Monte Carlo Methods 1998 (Claremont, CA), Springer, Berlin, pp. 149-162.
    </li>
    <li block-type="ListItem">
     [4] Bernard, C., LeCourtois, O. &amp; Quittard-Pinon, F. (2005). A new procedure for pricing Parisian options, The Journal of Derivatives
     <math display="inline">
      12(4)
     </math>
     , 45-53.
    </li>
   </ul>
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     [5] Chesney, M., Jeanblanc-Picqué, M. &amp; Yor, M. (1997). Brownian excursions and Parisian barrier options, Advances in Applied Probability
     <math display="inline">
      29(1)
     </math>
     ,
     <math display="inline">
      165-184
     </math>
     .
    </li>
    <li block-type="ListItem">
     [6] Costabile, M. (2002). A combinatorial approach for pricing Parisian options, Decisions in Economics and Finance 25(2), 111-125.
    </li>
    <li block-type="ListItem">
     [7] Forsyth, P.A. &amp; Vetzal, K.R. (1999). Discrete Parisian and delayed barrier options: A general numerical approach, Advances in Futures Options Research 10, 1-16.
    </li>
    <li block-type="ListItem">
     [8] Haber, R.J., Schonbucher, P.J. &amp; Wilmott, P. (1999). Pricing Parisian options, Journal of Derivatives 6(3), 71-79.
    </li>
    <li block-type="ListItem">
     [9] Labart, C. &amp; Lelong, J. Pricing Double Parisian options using Laplace transforms, International Journal of Theoretical and Applied Finance (to appear), http://hal.archives-ouvertes.fr/hal-00220470/fr/.
    </li>
   </ul>
  </p>
  <h1>
   <b>
    Related Articles
   </b>
  </h1>
  <p block-type="Text">
   Barrier Options; Discretely Monitored Options; Finite Difference Methods for Barrier Options; Lattice Methods for Path-dependent Options;
   <b>
    Partial Differential Equations.
   </b>
  </p>
  <p block-type="Text">
   Céline Labart
  </p>
 </body>
</html>
