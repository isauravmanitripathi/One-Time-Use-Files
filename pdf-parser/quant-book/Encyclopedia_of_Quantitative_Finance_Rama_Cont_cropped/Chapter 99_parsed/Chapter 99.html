<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
 </head>
 <body>
  <h1>
   <b>
    Vanna–Volga Pricing
   </b>
  </h1>
  <p block-type="Text">
   The vanna–volga method, also called the
   <i>
    traders' rule of thumb
   </i>
   , is an empirical procedure that can be used to infer an implied-volatility smile from three available quotes for a given maturity. It is based on the construction of locally replicating portfolios whose associated hedging costs are added to corresponding Black–Scholes prices to produce smileconsistent values. Besides being intuitive and easy to implement, this procedure has a clear financial interpretation, which further supports its use in practice. In fact, SuperDerivatives has implemented a type of this method in their pricing platform, as one can read in the patent that SuperDerivatives has filed.
  </p>
  <p block-type="Text">
   The vanna–volga method is commonly used in foreign exchange options markets, where three main volatility quotes are typically available for a given market maturity: the delta-neutral straddle, referred to as
   <i>
    at-the-money
   </i>
   (
   <i>
    ATM
   </i>
   ); the risk reversal (RR) for 25 delta call and put; and the (vega-weighted) butterfly (BF) with 25 delta wings. The application of vanna–volga pricing allows us to derive implied volatilities for any option's delta, in particular for those outside the basic range set by the 25 delta put and call quotes. The notion of risk reversals and butterflies is explained in the article on foreign exchange (FX) market terminology (
   <i>
    see
   </i>
   <b>
    Foreign Exchange Markets
   </b>
   ).
  </p>
  <p block-type="Text">
   In the financial literature, the vanna–volga approach was introduced by Lipton and McGhee in [2], who compare different approaches to the pricing of double-no-touch (DNT) options, and by Wystup in [5], who describes its application to the valuation of one-touch (OT) options. The vanna–volga procedure is reviewed in more detail and some important results concerning the tractability of the method and its robustness are derived by Castagna and Mercurio in [1].
  </p>
  <p block-type="Text">
   The following is based on the section
   <i>
    Traders' Rule of Thumb
   </i>
   by Wystup in [6].
  </p>
  <p block-type="Text">
   The traders' rule of thumb is a method of traders to determine the cost of risk managing the volatility risk of exotic options with vanilla options. This cost is then added to the theoretical value (
   <i>
    TV
   </i>
   ) in the Black–Scholes model and is called the
   <i>
    overhedge
   </i>
   . We explain the rule and then consider an example of a one-touch option.
  </p>
  <p block-type="Text">
   Delta and vega are the most relevant sensitivity parameters for FX options maturing within one year. A delta-neutral position can be achieved by trading the spot. Changes in the spot are explicitly allowed in the Black–Scholes model. Therefore, model and practical trading have very good control over spot change risk. The more sensitive part is the vega position. This is not taken care of in the Black–Scholes model. Market participants need to trade other options to obtain a vega-neutral position. However, even a vega-neutral position is subject to changes of spot and volatility. For this reason, the sensitivity parameters
   <i>
    vanna
   </i>
   (change of vega due to change of spot) and
   <i>
    volga
   </i>
   (change of vega due to change of volatility) are of special interest. Vanna is also called
   <i>
    d vega/d spot
   </i>
   , volga is also called
   <i>
    d vega/d vol
   </i>
   . The plots for vanna and volga for a vanilla option are displayed in Figures 1 and 2. In this section, we outline how the cost of such a vanna and volga exposure can be used to obtain prices for options that are closer to the market than their theoretical Black–Scholes value.
  </p>
  <h2>
   <b>
    Cost of Vanna and Volga
   </b>
  </h2>
  <p block-type="TextInlineMath">
   We fix the rates
   <i>
    rd
   </i>
   and
   <i>
    rf
   </i>
   , the time to maturity
   <i>
    T
   </i>
   , and the spot
   <i>
    x
   </i>
   and define
  </p>
  <p block-type="Equation">
   cost of vanna
   <math display="block">
    \stackrel{\Delta}{=}
   </math>
   exotic vanna ratio
  </p>
  <p block-type="TextInlineMath">
   × value of RR (1)
  </p>
  <p block-type="TextInlineMath">
   cost of volga  = exotic volga ratio
  </p>
  <p block-type="TextInlineMath">
   × value of BF (2)
  </p>
  <p block-type="Equation">
   exotic vanna ratio
   <math display="block">
    \stackrel{\Delta}{=} B_{\sigma x}/RR_{\sigma x}
   </math>
   (3)
  </p>
  <p block-type="TextInlineMath">
   exotic volga ratio  =
   <i>
    Bσ σ /
   </i>
   BF
   <i>
    σ σ
   </i>
   (4)
  </p>
  <p block-type="Equation">
   value of
   <math display="block">
    \text{RR} \stackrel{\Delta}{=} [\text{RR}(\sigma_{\Delta}) - \text{RR}(\sigma_0)]
   </math>
   (5)
  </p>
  <p block-type="Equation">
   value of BF
   <math display="block">
    \stackrel{\Delta}{=}
   </math>
   [BF(
   <math>
    \sigma_{\Delta}
   </math>
   ) – BF(
   <math>
    \sigma_{0}
   </math>
   )] (6)
  </p>
  <p block-type="Text">
   where
   <i>
    σ
   </i>
   <sup>
    0
   </sup>
   denotes the ATM (forward) volatility and
   <i>
    σ
   </i>
   denotes the wing volatility at the delta pillar , and
   <i>
    B
   </i>
   denotes the value function of a given exotic option. The values of risk reversals and butterflies are defined by
  </p>
  <p>
   <img src="_page_1_Figure_1.jpeg"/>
  </p>
  <p>
   Figure 1 Vanna of a vanilla option as a function of spot and time to expiration, showing the skew symmetry about the at-the-money line
  </p>
  <p>
   <img src="_page_1_Figure_3.jpeg"/>
  </p>
  <p>
   Figure 2 Volga of a vanilla option as a function of spot and time to expiration, showing the symmetry about the at-the-money line
  </p>
  <p block-type="Equation">
   <math display="block">
    RR(\sigma) \stackrel{\Delta}{=} call(x, \Delta, \sigma, r_d, r_f, T) - put(x, \Delta, \sigma, r_d, r_f, T)
   </math>
   (7)
   <br/>
   <math display="block">
    BF(\sigma) \stackrel{\Delta}{=} \frac{call(x, \Delta, \sigma, r_d, r_f, T) + put(x, \Delta, \sigma, r_d, r_f, T)}{2} - \frac{call(x, \Delta_0, \sigma_0, r_d, r_f, T) + put(x, \Delta_0, \sigma_0, r_d, r_f, T)}{2}
   </math>
   (8)
  </p>
  <p block-type="TextInlineMath">
   where vanilla
   <math display="inline">
    (x, \Delta, \sigma, r_d, r_f, T)
   </math>
   means vanilla
   <math display="inline">
    (x, K,
   </math>
   <math display="inline">
    \sigma, r_d, r_f, T
   </math>
   ) for a strike K chosen to imply |vanilla&lt;sub&gt;x&lt;/sub&gt;
   <math display="inline">
    (x, K, \sigma, r_d, r_f, T) = \Delta
   </math>
   and
   <math display="inline">
    \Delta_0
   </math>
   is the delta that produces the ATM strike. To summarize, we abbreviate
  </p>
  <p block-type="Equation">
   <math display="block">
    \mathsf{c}(\sigma_{\Delta}^{+}) \stackrel{\Delta}{=} \mathsf{call}(x, \Delta^{+}, \sigma_{\Delta}^{+}, r_{d}, r_{f}, T) \tag{9}
   </math>
  </p>
  <p block-type="Equation">
   <math display="block">
    \mathsf{p}(\sigma_{\Delta}^{-}) \stackrel{\Delta}{=} \mathsf{put}(x,\,\Delta^{-},\,\sigma_{\Delta}^{-},\,r_{d},\,r_{f},\,T) \tag{10}
   </math>
  </p>
  <p block-type="Text">
   and obtain
  </p>
  <p block-type="Text">
   cost of vanna
  </p>
  <p block-type="Equation">
   <math display="block">
    = \frac{B_{\sigma x}}{c_{\sigma x}(\sigma_{\Delta}^{+}) - p_{\sigma x}(\sigma_{\Delta}^{-})} \times \left[ c(\sigma_{\Delta}^{+}) - c(\sigma_{0}) - p(\sigma_{\Delta}^{-}) + p(\sigma_{0}) \right] \tag{11}
   </math>
  </p>
  <p block-type="Text">
   cost of volga
  </p>
  <p block-type="Equation">
   <math display="block">
    = \frac{2B_{\sigma\sigma}}{c_{\sigma\sigma}(\sigma_{\Delta}^{+}) + p_{\sigma\sigma}(\sigma_{\Delta}^{-})} \times \left[\frac{c(\sigma_{\Delta}^{+}) - c(\sigma_{0}) + p(\sigma_{\Delta}^{-}) - p(\sigma_{0})}{2}\right] \quad (12)
   </math>
  </p>
  <p block-type="Text">
   where we note that volga of the butterfly should actually be
  </p>
  <p block-type="Equation">
   <math display="block">
    \frac{1}{2} \left[ c_{\sigma\sigma}(\sigma_{\Delta}^{+}) + p_{\sigma\sigma}(\sigma_{\Delta}^{-}) - c_{\sigma\sigma}(\sigma_{0}) - p_{\sigma\sigma}(\sigma_{0}) \right] \tag{13}
   </math>
  </p>
  <p block-type="Text">
   but the last two summands are close to zero. The vanna-volga adjusted value of the exotic is then
  </p>
  <p block-type="Equation">
   <math display="block">
    B(\sigma_0) + p \times \text{[cost of vanna + cost of volga]}
   </math>
   (14)
  </p>
  <p block-type="TextInlineMath">
   A division by the spot
   <math display="inline">
    x
   </math>
   converts everything into the usual quotation of the price in per cent of the underlying currency. The cost of vanna and volga is commonly adjusted by a number
   <math display="inline">
    p \in [0, 1]
   </math>
   , which is often taken to be the risk-neutral no-touch (NT) probability. The reason is that in the case of options that can knock out, the hedge is not needed anymore once the option has knocked out. The exact choice of
   <math display="inline">
    p
   </math>
   depends on the product to be priced; see Table 1. Taking
   <math display="inline">
    p = 1
   </math>
   as the default value would lead to overestimated overhedges for DNT options as pointed out in
   <math display="inline">
    [2]
   </math>
   .
  </p>
  <p block-type="Text">
   The values of risk reversals and butterflies in equations
   <math display="inline">
    (11)
   </math>
   and
   <math display="inline">
    (12)
   </math>
   can be approximated by a first-order expansion as follows. For a risk reversal, we take the difference of the call with correct implied volatility and the call with ATM volatility minus the difference of the put with correct implied volatility and the put with ATM volatility. It is easy to see that this can be well-approximated by the vega of the ATM vanilla times the risk reversal in terms of volatility. Similarly, the cost of the butterfly can be approximated by the vega of the ATM volatility times the butterfly in terms of volatility. In formulae, this is
  </p>
  <p block-type="Equation">
   <math display="block">
    \begin{split} \mathsf{c}(\sigma_{\Delta}^{+}) - \mathsf{c}(\sigma_{0}) - \mathsf{p}(\sigma_{\Delta}^{-}) + \mathsf{p}(\sigma_{0}) \\ &amp;\approx \mathsf{c}_{\sigma}(\sigma_{0})(\sigma_{\Delta}^{+} - \sigma_{0}) - \mathsf{p}_{\sigma}(\sigma_{0})(\sigma_{\Delta}^{-} - \sigma_{0}) \\ &amp;= \sigma_{0}[\mathsf{p}_{\sigma}(\sigma_{0}) - \mathsf{c}_{\sigma}(\sigma_{0})] + \mathsf{c}_{\sigma}(\sigma_{0})[\sigma_{\Delta}^{+} - \sigma_{\Delta}^{-}] \\ &amp;= \mathsf{c}_{\sigma}(\sigma_{0})\mathsf{RR} \end{split} \tag{15}
   </math>
  </p>
  <p block-type="Text">
   and, similarly,
  </p>
  <p block-type="Equation">
   <math display="block">
    \frac{\mathsf{c}(\sigma_{\Delta}^{+}) - \mathsf{c}(\sigma_{0}) + \mathsf{p}(\sigma_{\Delta}^{-}) - \mathsf{p}(\sigma_{0})}{2}
   </math>
   <math display="block">
    \approx \mathsf{c}_{\sigma}(\sigma_{0})\mathsf{BF} \tag{16}
   </math>
  </p>
  <p>
   Table 1 Adjustment factors for the overhedge for firstgeneration exotics
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Option
     </th>
     <th>
      p
     </th>
    </tr>
    <tr>
     <td>
      KO
     </td>
     <td>
      No-touch probability
     </td>
    </tr>
    <tr>
     <td>
      RKO
     </td>
     <td>
      No-touch probability
     </td>
    </tr>
    <tr>
     <td>
      DKO
     </td>
     <td>
      No-touch probability
     </td>
    </tr>
    <tr>
     <td>
      OT
     </td>
     <td>
      <math>
       0.9 \times
      </math>
      no-touch probability
      <math>
       - 0.5 \times
      </math>
      bid-offer-
      <br/>
      spread
      <math>
       \times
      </math>
      (TV
      <math>
       -
      </math>
      33%)/66%
     </td>
    </tr>
    <tr>
     <td>
      <math>
       \text{DNT}
      </math>
     </td>
     <td>
      0.5
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   KO, knock out; RKO, reverse knockout; DKO, double knockout; OT, one touch; DNT, double no touch
  </p>
  <p block-type="Text">
   With these approximations, we obtain the formulae
  </p>
  <p block-type="Equation">
   <math display="block">
    \text{cost of vanna} \approx \frac{B_{\sigma x}}{c_{\sigma x}(\sigma_{\Delta}^{+}) - p_{\sigma x}(\sigma_{\Delta}^{-})} c_{\sigma}(\sigma_{0}) \text{RR} \quad (17)
   </math>
  </p>
  <p block-type="Equation">
   <math display="block">
    \text{cost of volga} \approx \frac{2B_{\sigma\sigma}}{c_{\sigma\sigma}(\sigma_{\Delta}^{+}) + p_{\sigma\sigma}(\sigma_{\Delta}^{-})} c_{\sigma}(\sigma_{0}) \text{BF} \quad (18)
   </math>
  </p>
  <h2>
   Observations
  </h2>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     1. The price supplements are linear in butterflies and risk reversals. In particular, there is no cost of vanna supplement if the risk reversal is zero and no cost of volga supplement if the butterfly is zero.
    </li>
    <li block-type="ListItem">
     2. The price supplements are linear in the ATM vanilla vega. This means supplements grow with growing volatility change risk of the hedge instruments.
    </li>
    <li block-type="ListItem">
     3. The price supplements are linear in vanna and volga of the given exotic option.
    </li>
    <li block-type="ListItem">
     4. We have not observed any relevant difference between the exact method and its first-order approximation. Since the computation time for the approximation is shorter, we recommend using the approximation.
    </li>
    <li block-type="ListItem">
     5. It is not clear up front which target delta to use for the butterflies and risk reversals. We take a delta of 25% merely on the basis of its liquidity.
    </li>
    <li block-type="ListItem">
     6. The prices for vanilla options are consistent with the input volatilities as shown in Figures 3, 4, and
     <math display="inline">
      5
     </math>
     .
    </li>
    <li block-type="ListItem">
     7. The method assumes a zero volga of risk reversals and a zero vanna of butterflies. This way the two sources of risk can be decomposed and hedged with risk reversals and butterflies. However, the assumption is actually not exact. For this reason, the method should be used with a lot of care. It causes traders and financial engineers to keep adding exceptions to the standard method
    </li>
   </ul>
  </p>
  <h2>
   <b>
    Consistency Check
   </b>
  </h2>
  <p block-type="Text">
   A minimum requirement for the vanna-volga pricing to be correct is the consistency of the method with vanilla options. We show in Figures 3, 4, and 5 that
  </p>
  <p>
   <img src="_page_3_Figure_1.jpeg"/>
  </p>
  <p>
   Figure 3 Consistency check of vanna-volga pricing. Vanilla option smile for a one-month maturity EUR/USD call, spot = 0.9060,
   <math display="inline">
    r_d = 5.07\%
   </math>
   ,
   <math display="inline">
    r_f = 4.70\%
   </math>
   ,
   <math display="inline">
    \sigma_0 = 13.35\%
   </math>
   ,
   <math display="inline">
    \sigma_{\Lambda}^{+} = 13.475\%, \sigma_{\Lambda}^{-} = 13.825\%
   </math>
  </p>
  <p>
   <img src="_page_3_Figure_3.jpeg"/>
  </p>
  <p>
   Figure 4 Consistency check of vanna-volga pricing. Vanilla option smile for a one-year maturity EUR/USD call, spot = 0.9060,
   <math display="inline">
    r_d = 5.07\%
   </math>
   ,
   <math display="inline">
    r_f = 4.70\%
   </math>
   ,
   <math display="inline">
    \sigma_0 = 13.20\%
   </math>
   ,
   <math display="inline">
    \sigma_{\Lambda}^{+} = 13.425\%, \, \sigma_{\Lambda}^{-} = 13.575\%
   </math>
  </p>
  <p block-type="Text">
   the method does, in fact, yield a typical foreign exchange smile shape and produces the correct input volatilities ATM and at the delta pillars. We will now prove the consistency in the following way. Since the
  </p>
  <p>
   <img src="_page_3_Figure_6.jpeg"/>
  </p>
  <p>
   Figure 5 Consistency check of vanna-volga pricing. Vanilla option smile for a one-year maturity EUR/USD call, spot = 0.9060,
   <math display="inline">
    r_d = 5.07\%
   </math>
   ,
   <math display="inline">
    r_f = 4.70\%
   </math>
   ,
   <math display="inline">
    \sigma_0 = 13.20\%
   </math>
   ,
   <math display="inline">
    \sigma_{\Lambda}^{+} = 13.425\%, \, \sigma_{\Lambda}^{-} = 13.00\%
   </math>
  </p>
  <p block-type="Text">
   input consists only of three volatilities (ATM and two delta pillars), it would be too much to expect that the method produces correct representation of the entire volatility matrix. We can only check if the values for ATM and target-
   <math display="inline">
    \Delta
   </math>
   puts and calls are reproduced correctly. To verify this, we check if the values for an ATM call, a risk reversal, and a butterfly are priced correctly. Of course, we only expect approximately correct results. Note that the number
   <math display="inline">
    p
   </math>
   is taken to be 1, which agrees with the risk-neutral NT probability for vanilla options.
  </p>
  <p block-type="Text">
   For an ATM call, vanna and volga are approximately zero, and hence there are no supplements due to vanna or volga cost.
  </p>
  <p block-type="Text">
   For a target-
   <math display="inline">
    \Delta
   </math>
   risk reversal,
  </p>
  <p block-type="Equation">
   <math display="block">
    c(\sigma_{\Delta}^{+}) - p(\sigma_{\Delta}^{-}) \tag{19}
   </math>
  </p>
  <p block-type="Text">
   we obtain
  </p>
  <p block-type="Text">
   cost of vanna
  </p>
  <p block-type="Equation">
   <math display="block">
    = \frac{\mathsf{c}_{\sigma x}(\sigma_{\Delta}^{+}) - \mathsf{p}_{\sigma x}(\sigma_{\Delta}^{-})}{\mathsf{c}_{\sigma x}(\sigma_{\Delta}^{+}) - \mathsf{p}_{\sigma x}(\sigma_{\Delta}^{-})}
   </math>
   <math display="block">
    \times \left[ \mathsf{c}(\sigma_{\Delta}^{+}) - \mathsf{c}(\sigma_{0}) - \mathsf{p}(\sigma_{\Delta}^{-}) + \mathsf{p}(\sigma_{0}) \right]
   </math>
   <math display="block">
    = \mathsf{c}(\sigma_{\Delta}^{+}) - \mathsf{c}(\sigma_{0}) - \mathsf{p}(\sigma_{\Delta}^{-}) + \mathsf{p}(\sigma_{0}) \qquad (20)
   </math>
  </p>
  <p block-type="Text">
   cost of volga
  </p>
  <p block-type="Equation">
   <math display="block">
    = \frac{2[\mathbf{c}_{\sigma\sigma}(\sigma_{\Delta}^{+}) - \mathbf{p}_{\sigma\sigma}(\sigma_{\Delta}^{-})]}{\mathbf{c}_{\sigma\sigma}(\sigma_{\Delta}^{+}) + \mathbf{p}_{\sigma\sigma}(\sigma_{\Delta}^{-})} \times \left[\frac{\mathbf{c}(\sigma_{\Delta}^{+}) - \mathbf{c}(\sigma_{0}) + \mathbf{p}(\sigma_{\Delta}^{-}) - \mathbf{p}(\sigma_{0})}{2}\right] (21)
   </math>
  </p>
  <p block-type="Text">
   and observe that the cost of vanna yields a perfect fit and the cost of volga is small, because in the first fraction we divide the difference of two quantities by the sum of the quantities, which are all of the same order.
  </p>
  <p block-type="Text">
   For a target-
   <math display="inline">
    \Delta
   </math>
   butterfly
  </p>
  <p block-type="Equation">
   <math display="block">
    \frac{c(\sigma_{\Delta}^{+}) + p(\sigma_{\Delta}^{-})}{2} - \frac{c(\sigma_{0}) + p(\sigma_{0})}{2} \tag{22}
   </math>
  </p>
  <p block-type="Text">
   we analogously obtain a perfect fit for the cost of volga and
  </p>
  <p block-type="Text">
   cost of vanna
  </p>
  <p block-type="Equation">
   <math display="block">
    = \frac{c_{\sigma x}(\sigma_{\Delta}^{+}) - p_{\sigma x}(\sigma_{0}) - [c_{\sigma x}(\sigma_{0}) - p_{\sigma x}(\sigma_{\Delta}^{-})]}{c_{\sigma x}(\sigma_{\Delta}^{+}) - p_{\sigma x}(\sigma_{0}) + [c_{\sigma x}(\sigma_{0}) - p_{\sigma x}(\sigma_{\Delta}^{-})]} \times \left[c(\sigma_{\Delta}^{+}) - c(\sigma_{0}) - p(\sigma_{\Delta}^{-}) + p(\sigma_{0})\right]
   </math>
   (23)
  </p>
  <p block-type="Text">
   which is again small.
  </p>
  <p block-type="Text">
   The consistency can actually fail for certain parameter scenarios. This is one of the reasons that the traders' rule of thumb has been criticized repeatedly by a number of traders and researchers.
  </p>
  <p block-type="Text">
   We introduce the abbreviations for first generation exotics listed as below.
  </p>
  <p block-type="Text">
   KO, knock-out; KI, knock-in; RKO, reverse knock-out; RKI, reverse knock-in; DKO, double knock-out; OT, one-touch; NT, no-touch; DOT, double one-touch; DNT, double no-touch.
  </p>
  <h4>
   <b>
    Adjustment Factor
   </b>
  </h4>
  <p block-type="Text">
   The factor
   <math display="inline">
    p
   </math>
   has to be chosen in a suitable fashion. Since there is no mathematical justification or indication, there is a lot of dispute in the market about this choice. Moreover, the choices may also vary over time. An example for one of many possible choices of
   <math display="inline">
    p
   </math>
   is presented in Table 1.
  </p>
  <p block-type="TextInlineMath">
   For options with strike
   <math display="inline">
    K
   </math>
   , barrier
   <math display="inline">
    B
   </math>
   and type
   <math display="inline">
    \phi = 1
   </math>
   for a call and
   <math display="inline">
    \phi = -1
   </math>
   for a put, we use the following pricing rules, which are based on noarbitrage conditions:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     Knock in (KI) is priced
     <i>
      via
     </i>
     <math display="inline">
      KI = \text{vanilla}  KO
     </math>
     .
     <math display="inline">
      \bullet
     </math>
    </li>
    <li block-type="ListItem">
     Reverse knock in
     <math display="inline">
      (RKI)
     </math>
     is priced
     <i>
      via
     </i>
     <math display="inline">
      RKI =
     </math>
     <math display="inline">
      vanilla - RKO.
     </math>
    </li>
    <li block-type="ListItem">
     Reverse knockout (RKO) is priced
     <i>
      via
     </i>
     RKO(
     <math display="inline">
      \phi
     </math>
     .
     <math display="inline">
      (K, B) = KO(-\phi, K, B) - KO(-\phi, B, B) +
     </math>
     <math display="inline">
      \phi(B - K) \text{NT}(B)
     </math>
     .
    </li>
    <li block-type="ListItem">
     Double one touch (DOT) is priced
     <i>
      via
     </i>
     DNT.
    </li>
    <li block-type="ListItem">
     NT is priced via OT.
    </li>
   </ul>
  </p>
  <h1>
   <b>
    Volatility for Risk Reversals, Butterflies
   </b>
   and Theoretical Value
  </h1>
  <p block-type="Text">
   To determine the volatility and the vanna and volga for the risk reversal and butterfly, the convention is the same as for the building of the smile curve. Hence the 25% delta risk reversal retrieves the strike for 25% delta call and put with the spot delta and calculates the vanna and volga of these options using the corresponding volatilities from the smile.
  </p>
  <p block-type="Text">
   The
   <math display="inline">
    TV
   </math>
   of the exotics is calculated using the ATM volatility, retrieving it with the same convention that was used to build the smile, to build the smile.
  </p>
  <h4>
   <b>
    Pricing Barrier Options
   </b>
  </h4>
  <p block-type="Text">
   Ideally, one would be in a situation to hedge all barrier contracts with a portfolio of vanilla options or simple barrier building blocks. In the Black-Scholes model, there are exact rules on how to statically hedge many barrier contracts. A state-of-the art reference is given in
   <math display="inline">
    [3]
   </math>
   . However, in practice, most of these hedges fail, because volatility is not constant.
  </p>
  <p block-type="Text">
   For regular KO options, one can refine the method to incorporate more information about the global shape of the vega surface through time.
  </p>
  <p block-type="TextInlineMath">
   We chose
   <i>
    M
   </i>
   future points in time as
   <math display="inline">
    0 &lt; a_1\% &lt;
   </math>
   <math display="inline">
    a_2\% &lt; \cdots &lt; a_M\%
   </math>
   of the time to expiration. Using the same cost of vanna and volga, we calculate the overhedge for the regular KO with a reduced time to expiration. The factor for the cost is the probability not to touch the barrier within the remaining times to expiration
   <math display="inline">
    1 &gt; 1 - a_1\% &gt; 1 - a_2\% &gt; \cdots &gt; 1
   </math>
   <math display="inline">
    a_M\%
   </math>
   of the total time to expiration. Some desks believe that for ATM strikes, the long time to maturity should be weighted higher and for lowdelta strikes the short time to maturity should be weighted higher. The weighting can be chosen (rather arbitrarily) as
  </p>
  <p block-type="Equation">
   <math display="block">
    w = \tanh[\gamma(|\delta - 50\%| - 25\%)] \tag{24}
   </math>
  </p>
  <p block-type="Text">
   with a suitable positive
   <i>
    γ
   </i>
   . For
   <i>
    M
   </i>
   = 3, the total overhedge is given by
  </p>
  <p block-type="Equation">
   <math display="block">
    OH = \frac{OH(1 - a_1\%) \times w + OH(1 - a_2\%)}{+OH(1 - a_3\%) \times (1 - w)}
   </math>
   (25)
  </p>
  <p block-type="TextInlineMath">
   Which values to use for
   <i>
    M
   </i>
   ,
   <i>
    γ
   </i>
   , and the
   <i>
    ai
   </i>
   , whether to apply a weighting and what kind, varies for different trading desks.
  </p>
  <p block-type="Text">
   An additional term can be used for single-barrier options to account for glitches in the stop loss of the barrier. The theoretical value of the barrier option is determined with a barrier that is moved by four basis points and 50% of that adjustment is added to the price if it is positive. If it is negative, it is omitted altogether. The theoretical foundation for such a method is explained in [4].
  </p>
  <h2>
   <b>
    Pricing Double-barrier Options
   </b>
  </h2>
  <p block-type="Text">
   Double-barrier options behave similar to vanilla options for a spot far away from the barrier and more like OT options for a spot close to the barrier. Therefore, it appears reasonable to use the traders' rule of thumb for the corresponding regular KO to determine the overhedge for a spot closer to the strike and for the corresponding OT option for a spot closer to the barrier. This adjustment is the intrinsic value of the RKO times the overhedge of the corresponding OT option. The border is the arithmetic mean between strike and the in-the-money barrier.
  </p>
  <h2>
   <b>
    Pricing Double-no-touch Options
   </b>
  </h2>
  <p block-type="Text">
   For DNT options with lower barrier
   <i>
    L
   </i>
   and higher barrier
   <i>
    H
   </i>
   at spot
   <i>
    S
   </i>
   , one can use the overhedge
  </p>
  <p block-type="Equation">
   <math display="block">
    OH = \max{\text{vanna}-\text{volga-}OH; \delta(S-L)}
   </math>
   <math display="block">
    - TV - 0.5\%; \delta(H-S) - TV - 0.5\%}
   </math>
   (26)
  </p>
  <p block-type="Text">
   where
   <i>
    δ
   </i>
   denotes the delta of the DNT option.
  </p>
  <h2>
   <b>
    Pricing European-style Options
   </b>
  </h2>
  <h4>
   <i>
    Digital Options
   </i>
  </h4>
  <p block-type="Text">
   Digital options are priced using the overhedge of the call/put spread with the corresponding volatilities.
  </p>
  <h4>
   <i>
    European Barrier Options
   </i>
  </h4>
  <p block-type="Text">
   European barrier options (EKO) are priced using the prices of European and digital options and the relationship
  </p>
  <p block-type="Equation">
   <math display="block">
    EKO(\phi, K, B) = \text{vanilla}(\phi, K) - \text{vanilla}(\phi, B)
   </math>
   <math display="block">
    - \text{digital}(B)\phi(B - K) \qquad (27)
   </math>
  </p>
  <h2>
   <b>
    No-touch Probability
   </b>
  </h2>
  <p block-type="Text">
   The NT probability is obviously equal to the nondiscounted value of the corresponding NT option paying at maturity (under the risk-neutral measure). Note that the price of the OT option is calculated using an iteration for the touch probability. This means that the price of the OT option used to compute the NT probability is itself based on the traders' rule of thumb. This is an iterative process that requires an abortion criterion. One can use a standard approach that ends either after 100 iterations or as soon as the difference of two successive iteration results is less than 10
   <sup>
    −
   </sup>
   6. However, the method is so crude that it actually does not make much sense to use such precision at just this point. Therefore, to speed up the computation, we suggest that this procedure is omitted and no iterations are taken, which means to use the nondiscounted TV of the no-touch option as a proxy for the NT probability.
  </p>
  <h1>
   <b>
    The Cost of Trading and Its Implication on the Market Price of One-touch Options
   </b>
  </h1>
  <p block-type="Text">
   Now let us take a look at an example of the traders' rule of thumb in its simple version. We consider OT options, which hardly ever trade at
   <i>
    TV
   </i>
   . The tradable price is the sum of the TV and the overhedge. Typical examples are shown in Figure 6, one for an upper touch level in EUR/USD, and one for a lower touch level.
  </p>
  <p>
   <img src="_page_6_Figure_1.jpeg"/>
  </p>
  <p>
   <b>
    Figure 6
   </b>
   Overhedge of a one-touch option in EUR/USD for (a) an upper touch level and (b) a lower touch level, based on the traders' rule of thumb
  </p>
  <p block-type="Text">
   Clearly, there is no overhedge for OT options with a TV of 0% or 100%, but it is worth noting that low-TV OT options can be twice as expensive as their TV, sometimes even more. The overhedge arises from the cost of risk managing the OT option. In the Black–Scholes model, the only source of risk is the underlying exchange rate, whereas the volatility and interest rates are assumed constant. However, volatility and rates are themselves changing, whence the trader of options is exposed to instable vega and rho (change of the value with respect to volatility and rates). For short-dated options, the interest rate risk is negligible compared to the volatility risk as shown in Figure 7. Hence the overhedge of an OT option is a reflection of a trader's cost occurring because of the risk management of his vega exposure.
  </p>
  <h2>
   <b>
    Example
   </b>
  </h2>
  <p block-type="Text">
   We consider a one-year OT option in USD/JPY with payoff in USD. As market parameters, we assume a spot of 117.00 JPY per USD, JPY interest rate 0.10%, USD interest rate 2.10%, volatility 8.80%, 25-delta risk reversal −0
   <i>
    .
   </i>
   45%,a and 25-delta butterfly 0.37%.b
  </p>
  <p block-type="Text">
   The touch level is 127.00, and the TV is at 28.8%. If we now only hedge the vega exposure, then we need to consider two main risk factors, namely,
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     1. the change of vega as the spot changes, often called vanna;
    </li>
    <li block-type="ListItem">
     2. the change of vega as the volatility changes, often called volga or volgamma or vomma.
    </li>
   </ul>
  </p>
  <p block-type="Text">
   To hedge this exposure, we treat the two effects separately. The vanna of the OT option is 0.16%,
  </p>
  <p>
   <img src="_page_7_Figure_1.jpeg"/>
  </p>
  <p>
   <b>
    Figure 7
   </b>
   Comparison of interest rate and volatility risk for a vanilla option. The volatility risk behaves like a square-root function, whereas the interest rate risk is close to linear. Therefore, short-dated FX options have higher volatility risk than interest rate risk
  </p>
  <p block-type="TextInlineMath">
   and the vanna of the risk reversal is 0.04%. So we need to buy 4 (= 0
   <i>
    .
   </i>
   16
   <i>
    /
   </i>
   0
   <i>
    .
   </i>
   04) risk reversals, and, for each of them, we need to pay 0.14% of the USD amount, which causes an overhedge of −0
   <i>
    .
   </i>
   6%. The volga of the OT is −0
   <i>
    .
   </i>
   53%, and the volga of the butterfly is 0.03%. So we need to sell 18 (= −0
   <i>
    .
   </i>
   53
   <i>
    /
   </i>
   0
   <i>
    .
   </i>
   03) butterflies, each of which pays us 0.23% of the USD amount, which causes an overhedge of −4
   <i>
    .
   </i>
   1%. Therefore, the overhedge is −4
   <i>
    .
   </i>
   7%. However, we will get to the touch level with a risk-neutral probability of 28.8%, in which case we would have to pay to unwind the hedge. Therefore, the total overhedge is −71
   <i>
    .
   </i>
   2% × 4
   <i>
    .
   </i>
   7% = −3
   <i>
    .
   </i>
   4%. This leads to a midmarket price of 25.4%. Bid and offer could be 24.25%–36.75%. There are different beliefs among market participants about the unwinding cost. Other observed prices for OT options can be due to different existing vega profiles of the trader's portfolio, a marketing campaign, a hidden additional sales margin, or even the overall view of the trader in charge.
  </p>
  <h2>
   <b>
    Further Applications
   </b>
  </h2>
  <p block-type="Text">
   The method illustrated above shows how important the current smile of the vanilla options market is for the pricing of simple exotics. Similar types of approaches are commonly used to price other exotic options. For long-dated options, the interest rate risk will take over the lead in comparison to short-dated options where the volatility risk is dominant.
  </p>
  <h2>
   <b>
    End Notes
   </b>
  </h2>
  <p block-type="Text">
   a
   <i>
    .
   </i>
   This means that a 25-delta USD call is 0.45% cheaper than a 25-delta USD put in terms of implied volatility.
  </p>
  <p block-type="Text">
   b
   <i>
    .
   </i>
   This means that a 25-delta USD call and 25-delta USD put is, on average, 0.37% more expensive than an ATM option in terms of volatility.
  </p>
  <h2>
   <b>
    References
   </b>
  </h2>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     [1] Castagna, A. &amp; Mercurio, F. (2007). The Vanna-Volga method for implied volatilities,
     <i>
      Risk
     </i>
     Jan. 106–111.
    </li>
    <li block-type="ListItem">
     [2] Lipton, A. &amp; McGhee, W. (2002). Universal Barriers,
     <i>
      Risk
     </i>
     ,
     <b>
      15
     </b>
     (5), 81–85.
    </li>
    <li block-type="ListItem">
     [3] Poulsen, R. (2006). Barrier options and their static hedges: simple derivations and extensions,
     <i>
      Quantitative Finance
     </i>
     , Vol.
     <b>
      6
     </b>
     (4), 327–335.
    </li>
    <li block-type="ListItem">
     [4] Schmock, U., Shreve, S.E. &amp; Wystup, U. (2002). Dealing with dangerous digitals, in
     <i>
      Foreign Exchange Risk
     </i>
     , Risk Publications, London, http://www.mathfinance.com/ FXRiskBook/
    </li>
    <li block-type="ListItem">
     [5] Wystup, U. (2003). The market price of one-touch options in foreign exchange markets,
     <i>
      Derivatives Week
     </i>
     , London,
     <b>
      XII
     </b>
     (13), 8–9.
    </li>
    <li block-type="ListItem">
     [6] Wystup, U. (2006).
     <i>
      FX Options and Structured Products
     </i>
     , Wiley Finance Series.
    </li>
   </ul>
  </p>
  <h2>
   <b>
    Related Articles
   </b>
  </h2>
  <p block-type="Text">
   <b>
    Barrier Options
   </b>
   ;
   <b>
    Foreign Exchange Markets
   </b>
   .
  </p>
  <p block-type="Text">
   UWE WYSTUP
  </p>
 </body>
</html>
