# Martingale **Representation Theorem**

The "martingale representation theorem" is one of the fundamental theorems of stochastic calculus. It was first noted by Itô [9] (see Itô, Kivosi (1915-2008)) as an application of multiple Wiener-Itô integrals. It was later modified and extended to various forms by many authors, but the basic theme remains the same: a squareintegrable (local) martingale with respect to the filtration generated by a Brownian motion can always be represented as an Itô integral with respect to that Brownian motion. An immediate consequence would then be that every square-integrable martingale with respect to a Brownian filtration must have continuous paths. The martingale representation theorem is particularly useful in fields such as nonlinear filtering and mathematical finance [12] (see Second Fundamental Theorem of Asset Pricing) and it is a fundamental building block of the theory of backward stochastic differential equations [17, 19] (see Backward Stochastic Differential Equations).

To state the martingale representation theorem more precisely, let us consider a probability space  $(\Omega, \mathcal{F}, P)$ , on which is defined a d-dimensional Brownian motion  $B$ . We denote the filtration generated by *B* as  $\mathbf{F}^B \stackrel{\triangle}{=} \left\{ \mathcal{F}_t^B \right\}_{t \ge 0}$ , where  $\mathcal{F}_t^B = \sigma \left\{ B_s : s \le t \right\} \vee \mathcal{N}, t \ge 0$ , and  $\mathcal{N}$  is the set of all *P*null sets in  $\mathcal{F}$ . It can be checked that the filtration  $\mathbf{F}^{B}$  is *right continuous* (i.e.,  $\mathcal{F}_{t} = \mathcal{F}^{B}_{t+} \stackrel{\triangle}{=} \cap_{\varepsilon > 0} \mathcal{F}^{B}_{t+\varepsilon}$ ,  $t \geq 0$ ), and  $\mathcal{F}^{B}_{t}$  contains all *P*-null sets of  $\mathcal{F}$ . In other words,  $\mathbf{F}^{B}$  satisfies the so-called u ses [20] (see **Filtrations**). Let us denote  $\mathcal{M}^2(\mathbf{F}^B)$ to be the set of all square-integrable  $\mathbf{F}^B$ -martingales and  $\mathcal{M}_{c}^{2}(\mathbf{F}^{B})$  to be the subspace of  $\mathcal{M}^{2}(\mathbf{F}^{B})$  of all those martingales that have continuous paths. The most common martingale representation theorem is the following:

**Theorem 1** Let  $M \in \mathcal{M}^2(\mathbf{F}^B)$ . Then there exists a d-dimensional  $\mathbf{F}^B$ -predictable process H with  $E\int_0^T |H_s|^2 ds < \infty$  for all  $T > 0$ , such that

$$M_t = M_0 + \int_0^t (H_s, \, \mathrm{d}B_s)$$

$$= M_0 + \sum_{i=1}^d \int_0^t H_s^i \, \mathrm{d} B_s^i \qquad \forall t \ge 0 \qquad (1)$$

Furthermore, the process H is unique modulo dt  $\times$  $d\mathbf{P}$ -null sets. Consequently, it holds that  $\mathcal{M}^2(\mathbf{F}^B)$  =  $\mathcal{M}^2_c(\mathbf{F}^B)$ .

The proof of this theorem can be found in standard reference books in stochastic analysis, for example, Ikeda and Watanabe [8], Karatzas and Shreve [12], Liptser and Shiryaev [14], Protter [20], and Rogers and Williams [21], to mention a few. But the work of Dellacherie [1] is worth mentioning, since it is the basis for many other proofs in the literature.

Note that if  $\xi$  is an  $\mathcal{F}^B_T$ -measurable random variable for some  $T > 0$  with finite second moments, then  $M_t \stackrel{\triangle}{=} E\left\{\xi|\mathcal{F}_t^B\right\}, t \ge 0$ , defines a square-integrable  $\mathbf{F}^B$ -martingale. We therefore have the following corollary:

**Corollary 1** Assume that  $\xi$  is a  $\mathcal{F}^B_T$ -measurable random variable for some  $T > 0$ , such that  $E[|\xi|^2] <$  $\infty$ . Then there exists a d-dimensional  $\mathbf{F}^B$ -predictable process H with  $E\int_0^T |H_s|^2 ds < \infty$  such that

$$\xi = E[\xi] + \int_0^T (H_s, \, \mathrm{d}B_s)$$
  
=  $E[\xi] + \sum_{i=1}^d \int_0^T H_s^i \, \mathrm{d}B_s^i$ ,  $P \ a.s.$  (2)

Furthermore, the process H is unique modulo  $dt \times$  $d\mathbf{P}$ -null sets.

We remark that in the above corollary, the process  $H$ , often referred to as the *martingale integrand* or representation kernel of the martingale  $M$ , could depend on the duration  $T > 0$ ; therefore, a more precise notation would be  $H = H^{T}$ , if the time duration  $T$  has to be taken into consideration. But the uniqueness of the representation implies that the family  $\{H^T\}$  is actually "consistent" in the sense that  $H_t^{T_1} = H_t^{T_2}, dt \times dP$  a.e. on  $[0, T_1] \times \Omega$ , if  $T_1 \leq T_2$ . The martingale representation theorem can be generalized to local martingales [12, 20, 21]:

**Theorem 2** Every  $\mathbf{F}^B$ -local martingale is continuous and is the stochastic integral with respect to  $B$  of a predictable process  $H$  such that

$$P\left\{\int_0^t |H_s|^2 \, \mathrm{d}s < \infty : t \ge 0\right\} = 1 \tag{3}$$

We note that there is a slight difference between Corollary 1 and Theorem 2, on the integrability of the integrand  $H$ . In fact, without the local martingale assumption the "local" square integrability such as equation  $(3)$  does not guarantee the uniqueness of the process  $H$  in Corollary 1. A very elegant result in this regard is attributed to Dudley [4], who proved that any almost surely finite  $\mathcal{F}_T$ -measurable random variable  $\xi$  can be represented as a stochastic integral evaluated at  $T$ , and the "martingale integrand" satisfies only equation (3). However, such representation *does not* have uniqueness. This point was further investigated in [7]. In this study, the filtration is generated by a higher dimensional Brownian motion, of which  $B$  is only a part of the components. We also refer to [12] for the discussions on this issue.

Itô's original martingale representation theorem has been extended to many other situations when the Brownian motion is replaced by certain semimartingales. In this section, we give a brief summary of these cases. For simplicity in what follows, we shall consider only martingales rather than local martingales. The versions for the latter are essentially identical, but with slightly relaxed integrability requirements on the representing integrands, as we saw in Theorem 2.

## **Representation under Non-Brownian** Filtrations

We recall that one of the most important assumptions in the martingale representation theorems is that the filtration is generated by the Brownian motion (or "Brownian-filtration"). When this assumption is removed, the representation may still hold, but the form will change. There are different ways to adjust the result:

- 1. Fix the probability space, but change the form of representation (by adding an orthogonal martingale).
- 2. Fix the probability space, but use more information of the martingale to be represented.
- 3. Extend the probability space, but keep the form of the representation.

The generalization of type (1) essentially uses the idea of orthogonal decomposition of the Hilbert space. In fact, note that  $\mathcal{M}^2(\mathbf{F})$  is a Hilbert space, and let  $\mathcal{H}$  denote all  $H \in \mathcal{M}^2(\mathbf{F})$  such that  $H_t =$  $\int_0^t \Phi_s \, dB_s, \, t \ge 0$  for some progressively measurable process  $\Phi \in L^2([0,T] \times \Omega)$ . Then *ℋ* is a closed subspace of  $\mathcal{M}^2(\mathbf{F})$ ; thus for any  $M \in \mathcal{M}^2(\mathbf{F})$  the following decomposition holds:

$$M_t = M_0 + H_t + N_t$$
  
=  $M_0 + \int_0^t \Phi_s \, \mathrm{d}B_s + N_t, \qquad t \ge 0 \quad (4)$ 

where  $N \in \mathcal{N}^{\perp}$ , the subspace of  $\mathcal{M}^2(\mathbf{F})$  consisting of all martingales that are "orthogonal" to  $\mathcal{N}$ . We refer to [12] and [20], for example, for detailed discussions for this type of representations. The generalizations of types  $(2)$  and  $(3)$  keep the original form of the representation. We now list two results adapted from Ikeda–Watanabe [8].

**Theorem 3** Let  $M^i \in \mathcal{M}_c^2(\mathbf{F}), i = 1, 2, ..., d$ . Suppose that  $\Phi^{i,j} \in \mathcal{L}^1(\mathbf{F})$  and  $\Psi^{i,k} \in \mathcal{L}^2(\mathbf{F}), i, j, k = 1$  $1, 2, \ldots, d$ , exist such that for  $i, j = 1, 2, \ldots, d$ ,

$$\langle M^{i}, M^{j} \rangle_{t} = \int_{0}^{t} \Phi_{s}^{ij} \, \mathrm{d}s \quad and$$
$$\Phi_{s}^{i,j} = \sum_{k=1}^{d} \Psi_{s}^{ik} \Psi_{s}^{jk}, \qquad P \ a.s. \qquad (5)$$

and  $det(\Psi_s^{jk}) \neq 0$ , a.s., for all  $s > 0$ . Then there exists a d-dimensional **F**-Brownian motion  $B = \{(B_t^1, \ldots,$  $B_t^d$ :  $t \ge 0$  such that

$$M_t^i = M_0^i + \sum_{k=1}^d \int_0^t \Psi_s^{ik} \, \mathrm{d}B_s^k, \qquad i = 1, 2, \dots, d$$
(6)

We remark that the assumption  $det(\Psi_s^{jk}) \neq 0$  in Theorem 3 is quite restrictive, which implies, among other things, that the representing Brownian motion has to have the same dimension as the given martingale (thus the representation kernel is "squared"). This restriction can be removed by allowing the probability space to be enlarged (or *extended*, see [8]).

**Theorem 4** Let  $M^i \in \mathcal{M}^2_c(\mathbf{F}), i = 1, 2, ..., d$ . Suppose that  $\Phi^{i,j}, \Psi^{i,k} \in \mathcal{L}^0(\mathbf{F}), \ i, j = 1, 2, \ldots, d, k =$  $1, 2, \ldots, r$  exist such that for  $i, j = 1, 2, \ldots, d$  and  $k = 1, 2, ..., r, \int_0^t |\Phi_s^{ij}| ds < \infty \text{ and } \int_0^t |\Psi_s^{ik}|^2 ds <$  $\infty$ ,  $t > 0$ , P a.s., and that

$$\langle M^{i}, M^{j} \rangle_{t} = \int_{0}^{t} \Phi_{s}^{ij} \, \mathrm{d}s \quad and$$
$$\Phi_{s}^{i,j} = \sum_{k=1}^{d} \Psi_{s}^{ik} \Psi_{s}^{jk}, \qquad P \; a.s. \tag{7}$$

Then there exists an extension  $(\widetilde{\Omega}, \widetilde{\mathcal{F}}, \widetilde{P}; \widetilde{\mathbf{F}})$  of  $(\Omega, \mathcal{F}, P; \mathbf{F})$ , and a d-dimensional  $\mathbf{F}$ -Brownian motion  $B = \{(B_t^1, \ldots, B_t^d) : t \ge 0\}$  such that

$$M_t^i = M_0^i + \sum_{k=1}^d \int_0^t \Psi_s^{ik} \, \mathrm{d} B_s^k, \qquad i = 1, 2, \dots, d \ (8)$$

## **Representation for Discontinuous** Martingales

Up to this point, all the representable martingales are, in fact necessarily, continuous. This clearly excludes many important martingales, most notably the compensated Poisson processes. Thus another generalization of the martingale representation theorem is to replace the Brownian motion by Poisson random measure. We refer to Ikeda and Watanabe [8], for example, for the basic notions of Poisson point process and Poisson random measures.

Let  $p$  be a Poisson point process (see **Point Processes**) on some state space  $(\mathcal{X}, \mathcal{B}(\mathcal{X}))$ , where  $\mathcal{B}(\mathcal{X})$  stands for the Borel field of  $\mathcal{X}$ . For each  $t > 0$  and  $U \in \mathcal{B}(\mathcal{X})$ , define the counting measure  $N_p(t, U) \stackrel{\triangle}{=} \sum_{s \leq t} \mathbf{1}_U(p(s))$ . We assume that the point process  $p$  is of class (QL), that is, the compensator  $\hat{N}_p(\cdot, U) = E[N_p(\cdot, U)]$  is continuous for each U; and  $\tilde{N}_p(t, U) = N_p(t, U) - \hat{U}_p(t, U)$ is a martingale. Similar to the Brownian case, we can define the filtration generated by  $p$  as  $\mathcal{F}_t^p \stackrel{\triangle}{=}$  $\sigma\{N_p(s, U) : s \le t, U \in \mathcal{B}(\mathcal{X})\}$  (or make it right continuous by defining  $\tilde{\mathcal{F}}_t^p = \bigcap_{\varepsilon > 0} \mathcal{F}_{t+\varepsilon}^p$ ), and denote  $\mathbf{F}^p = \left\{ \mathcal{F}_t^p \right\}_{t>0}$ . We then have the following analog of Theorem 1.

**Theorem 5** Let  $M \in \mathcal{M}^2(\mathbf{F}^p)$ . Then there exists an  $\mathbf{F}^p$ -predictable random field  $f: \Omega \times [0, \infty) \times$ 

$$\mathcal{X} \mapsto \mathbb{R} \quad \text{satisfying} \quad E\left\{ \int_0^t \int_{\mathcal{X}} |f(s,x,\cdot)|^2 \hat{N}_p(\mathrm{d}s,\,\mathrm{d}x) \right\} < \infty, \text{ such that}$$

$$M_t = M_0 + \int_0^{t+} \int_{\mathcal{X}} f(s, x, \cdot) \tilde{N}_p(\mathrm{d}s, \, \mathrm{d}x), \qquad t \ge 0 \tag{9}$$

We should note that like Theorem 1, Theorem 5 also has generalizations that could be considered as counterparts of Theorems 3 and 4 [8]. It is worth noting that by combining Theorems 1 and 5, it is possible to obtain a martingale representation theorem that involves both Brownian motion and the Poisson random measure. Keeping the Lévy-Khintchine formula (*see* **Lévy Processes**) (or Lévy–Itô Theorem) in mind, we have the following representation theorem, which is a simplified version resulting from a much deeper and extensive exposition by Jacod and Shirvaev [10] (see also [13]). Let  $\mathbf{F}$  be the filtration generated by a Lévy process with the Brownian component  $B$  and Poisson component  $N$ .

**Theorem 6** Suppose that  $M \in \mathcal{M}^2(\mathbf{F})$ . Then there exist an  $\mathbf{F}$ -adapted process  $H$  and a random field  $G$ satisfying  $E\int_0^T |H_s|^2 \, \mathrm{d}s < \infty, \ E\left\{\int_0^t \int_{\mathbb{R}\setminus 0} |G(s,x)|^2 \hat{N} \right\}$  $(ds, dx)$  <  $\infty$ , such that

$$M_t = M_0 + \int_0^t H_s \, \mathrm{d}B_s + \int_0^t \int_{\mathbb{R}\setminus 0} G(s, x) \widetilde{N}(\mathrm{d}s, \, \mathrm{d}x) \tag{10}$$

Moreover, the elements of the pair  $(H, G)$  are unique in their respective spaces.

In Theorem 6, the Brownian component and the Poisson component of the Lévy process have to be treated separately, and one cannot simply replace the Brownian motion in Theorem 1 by a Lévy process. In fact, the martingale representation for Lévy process is a much more subtle issue, and was recently studied by Nualart and Schoutens [18] via the chaotic representation using the so-called Teugels martingales. We refer also to Løkka [15] for a more recent development on this issue.

A natural question now is whether the martingale representation theorem can still hold (in the usual sense) for martingales with jumps. The answer to this question has an important implication in finance, since, as we shall see subsequently, this is the same as asking whether a market could be complete when the dynamics of the underlying assets have jumps. It turns out that there indeed exists a class of martingales, known as the *normal martingales*, that are discontinuous in general but the martingale representation theorem holds. A square-integrable martingale *M* is called *normal* if  $\langle M \rangle_t = t$  (cf. [2]). The class of normal martingale, in particular, includes those martingales that satisfy the so-called structure equation (cf. [5, 6]). Examples of normal martingales satisfying the structure equation include Brownian motion, compensated Poisson process, the Azéma martingale, and the "parabolic" martingale [20]. The martingale representation, or more precisely the Clark-Ocone formula, was proved in [16]. The application of such a representation in finance was first done by Dritschel and Protter [3] (see also [11]).

#### **Relation with Hedging**

The martingale representation theorem is the basis for the arguments leading to *market completeness*, a fundamental component in the "Second Fundamental Theorem" of mathematical finance (see Second Fundamental Theorem of Asset Pricing). Consider a market modeled by a probability space  $(\Omega, \mathcal{F}, P, \mathbf{F})$ , where  $\mathbf{F}$  is the filtration generated by a Brownian motion that represents market randomness, and denote it by  $B$ . Assume that the market is arbitrage free; then there exists a risk neutral measure  $O$  (see Fundamental Theorem of Asset Pricing), equivalent to P. The arbitrage price at time  $t \in [0, T]$  for any contingent T-claim  $\mathcal{X}$  is given by the *discounted* present value formula:

$$V_t = e^{-r(T-t)} E^{\mathcal{Q}}[\mathcal{X}|\mathcal{F}_t], \qquad t \in [0, T] \quad (11)$$

where r is the (constant) interest rate. If  $\mathcal{X}$  is square integrable, then  $M_t = e^{-rt} V_t$ ,  $t \ge 0$ , is a square-integrable  $\mathbf{F}$ -martingale under  $Q$ . Applying the martingale representation theorem one has

$$M_t = M_0 + \int_0^t \phi_s \, \mathrm{d}B_s, \qquad t \in [0, T] \quad (12)$$

for some square-integrable, **F**-predictable process  $\phi$ . Or equivalently, assuming that the volatility of the market, denoted by  $\sigma$ , is positive, we can write

$$V_{t} = V_{0} + \int_{0}^{t} r V_{s} \, \mathrm{d}s + \int_{0}^{t} \pi_{t} \sigma_{s} \, \mathrm{d}B_{s}, \qquad t \in [0, T]$$
(13)

where  $\pi_t = e^{rt} \phi_t \sigma_t^{-1}$ ,  $t \ge 0$ . The process  $\pi$  is then exactly the "hedging strategy" for the claim  $\mathcal{X}$ , that is, the amount of money one should invest in the stock, so that  $V_T = \mathcal{X}$ , almost surely.

The martingale representation theorem also plays an important role in portfolio optimization problems, especially in finding optimal strategies [12].

One of the abstract forms of the hedging problem described earlier is the so-called backward stochastic differential equation (BSDE), which is the problem of finding a pair of **F**-adapted processes  $(V, Z)$  so that the following *terminal value problems* for a stochastic differential equation similar to  $(13)$  holds:

$$dV_t = f(t, V_t, Z_t) dt + Z_t dB_t, \quad t \in [0, T]$$
  
$$V_T = \mathcal{X}$$
 (14)

See Forward-Backward Stochastic Differential Equations (SDEs); Backward Stochastic Differential Equations.

### References

- Dellacherie, C. (1974). Intégrales Stochastiques par [1] Rapport aux Processus de Wiener et de Poisson, Séminaire de Probability (Univ. de Strasbourg) IV, Lecture Notes in Math, Springer-Verlag, Berlin, Vol. 124, 77-107.
- Dellacherie, C., Maisonneuve, B. & Meyer, P.A. (1992). [2] Probabilités et Potentiel: Chapitres XVII à XXIV, Hermann, Paris.
- Dritschel, M. & Protter, P. (1999). Complete markets [3] with discontinuous security price, Finance and Stochastics  $3(2)$ ,  $203-214$ .
- [4] Dudley, R.M. (1977). Wiener functionals as Itô integrals, Annals of Probability 5, 140-141.
- Emery, M. (1989). On the Azéma Martingales, Séminaire [5] de Probabilités XXIII, Lecture Notes in Mathematics, Vol. 1372, Springer Verlag, pp. 66-87.
- [6] Emery, M. (2006). Chaotic representation property of certain Azéma martingales, Illinois Journal of Mathematics  $50(2)$ , 395–411.
- [7] Emery, M., Stricker, C. & Yan, J. (1983). Valuers prises par les martinglales locales continues à un instant donné, Annals of Probability 11, 635–641.

- [8] Ikeda, N. & Watanabe, S. (1981). *Stochastic Differential Equations and Diffusion Processes*, North-Holland.
- [9] Ito, K. (1951). Multiple Wiener integral, ˆ *Journal of Mathematical Society of Japan* **3**, 157–169.
- [10] Jacod, J. & Shiryaev, A.N. (1987). *Limit Theorems for Stochastic Processes*, Springer-Verlag, Berlin.
- [11] Jeanblanc, M. & Privault, N. (2002). A complete market model with Poisson and Brownian components, *Seminar on Stochastic Analysis, Random Fields and Applications*, Ascona; *Progress in Probability*, **52**, 189–204.
- [12] Karatzas, I. & Shreve, S.E. (1987). *Brownian Motion and Stochastic Calculus*, Springer.
- [13] Kunita, H. (2004). Representation of martingales with jumps and applications to mathematical finance, in *Stochastic Analysis and Related Topics in Kyoto*, *Advanced Studies in Pure Mathematics 41* , H. Kunita, S. Watanabe & Y. Takahashi eds, Mathematical Society of Japan, Tokyo, pp. 209–232.
- [14] Liptser, R.S. & Shiryaev, A.N. (1977). *Statistics of Random Processes. Vol I: General Theory*, Springer-Verlag, New York.
- [15] Løkka, A. (2004). Martingale representation of functionals of Levy processes, ´ *Stochastic Analysis and Applications* **22**(4), 867–892.
- [16] Ma, J., Protter, P., & San Martin, J. (1998). Anticipating integrals for a class of martingales, *Bernoulli* **4**(1), 81–114.
- [17] Ma, J. & Yong, J. (1999). *Forward-Backward Stochastic Differential Equations and Their Applications*, LNM 1702, Springer.

- [18] Nualart, D. & Schoutens, W. (2000). Chaotic and predictable representations for Levy processes, ´ *Stochastic Processes and their Applications* **90**, 109–122.
- [19] Pardoux, E. & Peng, S. (1990). Adapted solutions of backward stochastic equations, *System and Control Letters* **14**, 55–61.
- [20] Protter, P. (1990). *Stochastic Integration and Stochastic Differential Equations*, Springer.
- [21] Rogers, L.C.G. & Williams, D. (1987). *Diffusions, Markov Processes and Martingales, Vol. 2: Itˆo Calculus*, John Wiley & Sons.

## **Further Reading**

- Dellacherie, C. & Meyer, P. (1978). *Probabilities and Potential*, North-Holland.
- Doob, J.L. (1984). *Classical Potential Theory and its Probabilistic Counterparts*, Springer.
- Revuz, D. & Yor, M. (1991, 1994). *Continuous Martingales and Brownian Motion*, Springer.

## **Related Articles**

**Backward Stochastic Differential Equations**; **Convex Duality**; **Complete Markets**; **Filtrations**; **Second Fundamental Theorem of Asset Pricing**.

JIN MA