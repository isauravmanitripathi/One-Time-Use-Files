# CHAPTER

# Execution

Quality is never an accident; it is always the result of high intention, sincere effort, intelligent direction and skillful execution. -William A. Foster

**Q** o far in our tour through the black box, we have seen how quants determine what portfolio they want to own. Quants build alpha models, risk models, and transaction cost models. These modules are fed into a portfolio construction model, which determines a target portfolio. But having a target portfolio on a piece of paper or computer screen is considerably different from actually owning that portfolio. The final part of the black box itself is to implement the portfolio decisions made by the portfolio construction model, which is accomplished by executing the desired trades.

There are two basic ways to execute a trade: either electronically or through a human intermediary (e.g., a broker). Most quants elect to utilize the electronic method, because the number of transactions is frequently so large that it would be unreasonable and unnecessary to expect people to succeed at it. Electronic execution is accomplished through *direct market* access (DMA), which allows traders to utilize the infrastructure and exchange connectivity of their brokerage firms to trade directly on electronic markets such as ECNs. For ease, I will refer to any type of liquidity poolwhether ECN, exchange, or otherwise—as an exchange, unless a specific point needs to be made about a particular type of market center.

Several points bear clarification. First, DMA is available to any trader, whether quant or discretionary, and in fact, many discretionary traders also utilize DMA platforms offered by their brokers to execute trades. Trades submitted via DMA can still be done manually if so desired, but they are manually entered into computer software, which then directly communicates with the electronic exchanges.

In the past, traders would call their brokers, who would "work" orders, which meant the latter trying to pick the best times, sizes, and prices, or occasionally contacting other counterparties to negotiate a better price on a larger block trade. Now, particularly on electronic exchanges, execution algorithms are far more commonly responsible for working orders. Execution algorithms contain the logic used to get an order completed, including instructions about how to slice up an order into smaller pieces (to minimize market impact), or how to respond to various kinds of changes in the limit order book and price behavior.

One can acquire execution algorithms in one of three ways: build them, use the broker's, or use a third‐party software vendor's. This chapter will, in part, detail the kinds of things execution algorithms are designed to handle. We will then discuss more recent developments related to the infrastructure quants utilize to execute trades. A more thorough coverage of infrastructure‐ and execution‐related issues, particular to latency‐sensitive execution and trading strategies (including high‐frequency trading) will be addressed in Part Four of this book.

Though most orders executed by quants are algorithmic, traders occasionally utilize a service most brokerages offer, namely, *portfolio bidding*. I describe this idea only briefly, since it is not a particularly quantitative way to execute trades. In a portfolio bid, a *blind* portfolio that the trader wants to transact is described by its characteristics in terms such as the valuation ratios of the longs and shorts, the sector breakdown, market capitalizations, and the like. Based on these characteristics, brokers quote a fee, usually in terms of the number of basis points (100 basis points = 1 percent) of the gross market value of the portfolio being traded. In exchange for this cost, a guaranteed price is given to do the transaction. The quant using this arrangement, in other words, is buying certainty of the prices of his trades and in exchange is paying the broker for providing that certainty. Once an agreement is reached between the broker and the quant, he receives the transactions from the broker at the pre‐agreed price, and the broker receives his fee for the service and assumes the risk of trading out of the portfolio at future market prices, which may be better or worse than the prices they have guaranteed. Human execution of quant portfolios often looks like a portfolio bid rather than a series of individual orders being worked.

Generally, the workflow for a quant trader is not materially different now from what it was in the days that preceded automated execution. Some traders preferred to more actively work their own orders, and many others would outsource order working to brokers. Some firms would outsource their executions to third‐party execution services firms, who would interface with brokers on behalf of the trader. Today, while some firms continue to employ human traders, more often quant trading firms execute orders through algorithms. As before, some of these firms have their own order working algorithms, while others utilize those offered by their broker or other service providers. In most cases, they still send their orders to a broker for execution. As such, the vast majority of volumes on various exchanges around the developed world are executed by algorithms on behalf of clients. And, just as before, these volumes are a form of currency for the trading firms that drive them. They bring valuable commission dollars to brokers, and in exchange for a trader bringing his business to a particular broker, the broker may be willing to offer research, data, or capital‐raising assistance, among other services.1

# Order Execution Algorithms

Order execution algorithms determine the way in which systematic execution of a portfolio is actually done. We can examine the kinds of decisions the algorithms must make in real time in much the same framework in which we'd think about how discretionary traders implement their orders. The kinds of considerations are the same in both cases, and as has been the theme throughout this book, we find that quants differ here from their discretionary counterparts principally in the mechanics and not so much in the ideas. The principal goal of execution algorithms, and the function of most execution desks in general, is to minimize the cost of trading into and out of positions.

The primary goals of an order execution algorithm are to get the desired amount of a trade done as completely as possible and as cheaply as possible. Each of these goals is equally interesting and important. Completeness is important because the best portfolio is selected by the portfolio construction model, and if those trades are not implemented, then a different portfolio is owned from what was intended. Cheapness is important for all the reasons we described in Chapter 5: In short, if you can save money every time you make a trade, you will be better off. An obvious corollary is that the more you trade, the more important it is to save money on each trade. This statement, simple and obvious as it is, has important implications for how a rational quant trader goes about building an execution capability. For strategies that require infrequent execution, it may be reasonably viewed as overkill to build a very expensive high‐speed trading infrastructure. After all, the savings of being high speed versus standard speed are very small, so they are only worth pursuing if they can be made up for in frequency.

Cheapness has several facets, including market impact and slippage, as discussed in Chapter 5. However, one driver of both impact and slippage is what is known as a footprint, which refers to a detectable pattern of behavior by a market participant (think of footprints in the same way a tracker does, when hunting some animal in a forest). If an order execution algorithm leaves an obvious footprint, its activities become predictable to other market participants, and these other participants may well react in such a way as to increase the market impact and slippage incurred by such an algorithm.

An important question is how to measure the efficacy of an execution algorithm. There are a few important concepts worth mentioning here. First is the notion of the *mid‐market*, which is the average of the best bid and the best offer (which is, by definition, the midpoint between those two levels) on an instrument. This is the most standard way to judge the fair price of a given transaction. If, for example, one is able to buy at the best bid, which is obviously below the then‐current mid‐market, that particular transaction is considered to have been executed at a favorable price (just as a sale at the then‐current best offer might be).

Second, the notion of the volume‐weighted average price (VWAP, for short) is the most standard benchmark for judging the quality of an execution algorithm over multiple trades (either within a day or over multiple days). The idea here is that the VWAP may give a fair sense of how the day's volumes were priced. Since this is the weighted average price at which the day's trading was transacted, it is a reasonable start at thinking about the efficacy of an algorithm. The trouble is that some investors may be fooled by looking at VWAP. If a buyer of stock executes huge volumes during some day, his volumes will most likely increase the price of that stock, and the VWAP. As such, his own activities impact the benchmark against which his execution algorithm is measured, making the interpretation of this benchmark tricky.

The major considerations that go into the making of an order working algorithm are as follows: whether to be aggressive or passive; what type of order to utilize; how to determine the ideal order size; and where to send it. We will briefly address each of these issues.

#### Aggressive versus Passive

There are two general approaches to execution: aggressive and passive. Aggressive orders (most often in the form of market orders) are submitted to the marketplace and are generally unconditional. They can be filled in pieces or in full at whatever price prevails at the market at the time the order's turn to be executed arrives (within reasonable boundaries, and so long as there is a bid or offer resting in the order book to take the other side of the market order). In contrast, passive orders (a subset of all limit orders) allow the trader to control the worst price at which he is willing to transact, but the trader must accept that his order might not get executed at all or that only a part of it might be executed. There is also a significant problem of adverse selection, which we will describe in further detail in Chapter 14.

The collection of all available bids and offers (all of which are passive orders) for a given security is known as the *limit order book*, which can be thought of as a queue of limit orders to buy and sell. In electronic markets, each order that is placed on the exchange is prioritized. Highest priority is given to orders at the best prices (the best bids for buy orders and the best offers for sell orders), whereas lower priority is given to those who are bidding or offering worse prices. For two traders offering the same price, traders who show their orders are given higher priority (by most exchanges) than those who hide them (more on this shortly), and for traders who are still tied, the tiebreaker is, not surprisingly, (most often) which one came first.

For some markets, rather than time priority, all orders at a given price are given equal priority, but they are filled according to a pro rata allocation of any active order. For example, imagine there are two bids on some instrument at \$100.00 (which we will assume is the best bid price), one for 100 units and another for 900 units. Now imagine that an active order to sell 100 units comes into the market. The order would be filled at \$100.00, and the passive orders would be allocated as follows: 10 units allocated to the 100 unit order, leaving 90 units remaining on the bid at \$100.00, and 90 units allocated to the 900 unit order, leaving 810 units remaining at the bid price. Special considerations apply to these markets, namely a trade‐off between oversizing and overtrading.

Oversizing refers to one technique that a trader might consider using to deal with pro rata markets. Since an active trade is allocated to the various relevant limit orders resting in the order book, proportionately to the size of a given limit order versus the other orders resting in the book at the same price, some traders intentionally oversize their limit orders. This will allow that order to get a larger share of any active order that interacts with the order book. However, there is also the risk that the order is so large that it causes the position to be bigger than the passive trader desired.

On the other hand, if the trader sizes his orders smaller, he must deal with placing and canceling large numbers of orders, which is known as overtrading. Imagine some trader wishes to passively buy 100 units of some instrument, and that at the time an active order to sell 100 units comes in, there is another trader's 900 unit order already in the limit order book. He will only receive a 10 unit fill. Depending on the volume of orders that join his limit order price as he awaits a complete fulfillment of his desired size, he runs the risk of having a very large amount of selling need to take place before his 100 units is finally filled. And, as we will see in more detail in Chapter 14, this means that he runs a severe risk of experiencing adverse selection2 (i.e., it is often bad news when the fills actually take place, because the price is likely to move against you in the short term by the time that happens). This in turn means that the trader must be quick to cancel orders and replace them as he competes with larger orders. Without high cancellation rates in this type of market, there would be a vicious cycle of oversizing that theoretically might never end. But as traders cancel, an oversized order might need to cancel as well, because it now is vulnerable to being filled at a larger size than the trader intended.

Regardless, the first kind of decision an execution algorithm must make is how passive or aggressive to be. Passivity and aggression represent how immediately a trader wants to do a trade. Market orders are considered aggressive, because the trader is saying to the market that he just wants his order filled immediately, at whatever the prevailing market will bear. As such, a market order to buy is likely to pay at least the offer, whereas a market order to sell is likely to receive, at most, the current best bid. If the order size is larger than the amount available at the current best bid or offer (whichever applies), the transaction will take out multiple bids or offers at increasingly adverse prices. Paying this kind of cost to transact might be worthwhile if the trader really wants the trade done immediately.

Limit orders can be placed at differing levels of aggressiveness as well. For example, a limit order to buy at the current best offer is an aggressive order because it crosses the spread and removes the best offer from the order book (this is also known as *lifting the offer*). By contrast, a limit order to buy at or below the current best bid is passive because the trader is effectively saying he is fine with the lower probability of being executed, but if he does execute, he is at least only paying the price he's specified. In addition to accepting this uncertainty, the passive order is further subject to a serious problem known as adverse selection. A trader who is willing to cross the bid‐offer spread by placing an active order may well have information that the trade he is conducting is actually worth it paying the bid‐offer spread to get put on right away. To complicate matters further, as we discussed in the discussion of transaction cost models, many exchanges actually pay providers of liquidity for placing passive orders while they charge traders for using liquidity being provided. To phrase it another way, orders that *cross the spread* (orders to buy that are executed at the offer, or orders to sell that are executed at the bid) are using, or "taking," liquidity in that each share or contract executed in this manner is taking out a passive order that's been placed by another trader, which reduces the liquidity available for other participants.

The practice of paying for liquidity provision sweetens the deal for a passive order, but only if the order is actually executed. Not only does the passive trader get a better transaction price, but he also receives a commission rebate from the exchange (typically on the order of two‐tenths of a cent per share). But again, the trade‐off is a reduction in certainty of being filled and suffering from potential adverse selection. It is worth noting that some exchanges do the opposite: charge providers of liquidity while paying takers of liquidity. Thus, the liquidity provision (or taking) rebate (or fee) factors into the decision of how passive or aggressive to be. This also factors into answering the question of where to route an order, which is a topic we will cover further in "Where to Send an Order."

It is generally true that alpha strategies that are based on a concept of momentum will be paired with execution strategies that are more aggressive, because the market can tend to run away from the trader if he is not aggressive. It is also generally the case that mean reversion strategies utilize more passive execution strategies because they are taking the risk that the prevailing trend persists, and at least by executing at a better price, this mitigates the downside risk of standing in front of the steamroller.

Another factor driving the use of passive or aggressive execution strategies is the strength of the signal and the model's confidence level in the signal. A stronger, more certain signal probably will be executed with greater aggressiveness than a weaker or less certain signal. This idea is easily demonstrated by extreme examples. If you had inside information that a stock was going to double in the next day because some other company was set to announce an acquisition of the stock in question at a large premium, and if trading on inside information was legal (which it, of course, is not), you should be perfectly happy to pay a lot of money to the marketplace to fill a large order to buy this stock. It would be illogical to fret over a few pennies per share when many dollars are the upside. On the other hand, if you have no view on a stock but were being asked what you'd be willing to pay for it by someone who wants to sell it, you are likely to offer a low enough price that there is some margin of safety.

A fairly common middle ground is to put out limit orders somewhere between the best current bid and offer (this is only feasible if the spread between the best bid and offer is larger than the minimum tick size). This way, the trader jumps to the front of the queue for executions, and though he pays a bit more than he would have to if he simply waited for his order to get executed passively, the limit order caps the amount by which he is worse off. At the same time, he has a higher probability of execution than he would if he simply added his order to the current best bid or offer. Finally, he is less likely to suffer from adverse selection in this case. In trading parlance, adding an order to the best bid or offer is known as *joining*

it; placing an order that constitutes a new best bid or offer is known as *improving*.

As data have been collected and researched by quants on the limit order book, there has been an increase in sophistication of order execution algorithms to adjust passiveness or aggression based on various changes in the "shape" of the limit order book. This is an example of factoring in a so‐called *micro price* or fair value for an instrument. The most conventional ways to quote the price of an instrument are either to state its last traded price or its best bid and offer prices. But the last traded price only tells you what someone else just did, not what you can do now, making it of limited use for trading purposes. The best bid and offer are clearly useful, but what if the best bid has 10,000 units quoted, while the best offer has only 1 unit quoted? This clearly implies that the bid price is more relevant than the offer price. As such, many algorithms account for such imbalances by computing a fair price that reflects things like the imbalance between bids and offers in the limit order book.

To summarize, the first characteristic of an order execution algorithm is its level of aggressiveness, and this can be thought of as a spectrum. At the most aggressive end of the spectrum are market orders; at the least aggressive end of the spectrum are limit orders with prices that are far away from the current market. The level of aggressiveness is usually a function of the type of strategy being employed and depends on the strength of the signal, the system's confidence in that signal, and sometimes also on considerations from the order book, such as a micro price.

#### Other Order Types

Given the plethora of exchanges and their rules, it would not be fruitful to attempt to cover every kind of order possible in this book. This is especially true because new order types are frequently being created by exchanges, and other order types are retired. However, it is worth understanding some of the types common in some of the largest and most active markets. We will outline several such order types in this section.

Hidden orders are a way to mask one's limit orders from the market, at the cost of losing priority versus visible orders at the same price. The goal here is to hide one's hand in terms of buy/sell intentions from other market players while still being able to trade. As discussed, any time a trader puts into the queue a visible order—that is, an order that he has allowed the rest of the market to see—he gives away a bit of information. If many units are already being bought, and yet another trader submits another order to buy, you can imagine a scenario where the price goes up quickly, causing the transaction to cost a significant amount more. In other words, the marketplace has a broad‐based sense of market impact, based on the total imbalance between the buyers and sellers at the moment (this relates back to what we discussed regarding the micro‐price in the previous section). Placing a hidden order provides no information to the market, which helps reduce the market's perception of imbalances. However, it also reduces the priority of the trade in the queue, leading to a lower probability of execution.

One algorithmic trading technique that utilizes hidden orders is known as *iceberging*, which takes a single large order and chops it into many smaller orders, most of which are posted to the order book as hidden orders. In this way, the bulk of the order is hidden from other traders, just as only the tip of an iceberg is visible above sea level. It is worth noting that not all exchanges allow hidden orders.

In addition, several versions of market and limit orders, such as market‐on‐close orders or stop‐limit orders, exist. *Market‐on‐close orders* instruct the broker to release the order as a market order during the closing auction for that day. *Stop limit orders* instruct the broker to enter a limit order at a predetermined price, but to wait until the instrument trades at that price before entering the order. There are also modifiers to orders, such as fill or kill, all or none, and good till canceled. A *fill‐or‐kill order* is a limit order in which all the shares for the order must be filled immediately or the order is automatically canceled. An *all‐or‐none order* is like a fill‐ or‐kill order without the cancellation feature, so if an order is not immediately completed in its full size, it remains untouched. A *good‐till‐canceled* order is a limit order that is not automatically canceled at the end of the day but remains in effect for days or weeks, until explicitly canceled by the trader.

Depending on the market and asset class, there are many other kinds of orders. Moreover, order types are regularly introduced and retired based on customer demands and requests. In the process of executing orders, the quant must determine the kind of orders that will be used in various circumstances. The more execution‐intensive a strategy is, the more it matters for a given quant to stay abreast of the latest order types available, and how the various exchanges' rules work.

One type of order deserves special discussion. Intermarket sweep orders (ISOs) exist in U.S. equities because of a flaw in the Regulation National Market System (NMS). Reg NMS includes a ban on so‐called locked markets. A market is said to be locked when the best bid for a given ticker is equal to the best offer on that same ticker, but where these two orders do not interact with each other. Theoretically, you might expect that if a buyer is willing to buy shares at \$100.00, and a seller is willing to sell the same shares for \$100.00, those two traders' orders would interact, and both trades would be filled. However, because of technological weaknesses in the way that the order book is updated by exchanges after a trade has been completed, a market can sometimes look "locked" when it is not.3

For example, imagine that a trader enters a limit order to buy 5,000 shares of some stock (we'll call it WXYZ) at \$100.00, which happens to be the best offered price at that moment. Further, the best bid at the time is \$99.99. There are only 3,000 shares offered at \$100.00. What you would think should happen is that the 5,000 share order interacts partially with the 3,000 share order, and that the remaining bid of 2,000 shares of WXYZ at \$100.00 would go into the limit order book as the new best bid (because it is a bid to buy WXYZ at a higher price than the former best bid of \$99.99). However, because a piece of software that Reg NMS requires exchanges to use to communicate with one another regarding the aggregated limit order book is slow, the 3,000 share offer will not disappear immediately from the consolidated book.4 And, because of the ban on locked markets, the remaining 2,000 share bid at \$100.00 will not be allowed to be posted to the limit order book until after this delay has been overcome.

The problem is that any firm with direct data feeds from each exchange in the consolidated book experiences no such delay in seeing the best offer being taken out of the order book. Furthermore, having noticed that there was a large buy order, and they can come in and directly post a bid at \$100.00, anticipating that the price of WXYZ is set to rise. Then, once the Reg NMS feed finally allows the original trader's 2,000-share bid at \$100.00 to be posted, this order will be lower in priority than the second trader's bid, even though the 2,000-share order actually happened first. We discuss in more detail in Chapter 14 why this is a problem, but for now, let it suffice to say that it is extremely problematic to be forced to wait to enter an order artificially. To avoid this problem, very sophisticated traders can be granted the right to use ISOs to execute their trades.

Broker‐dealers have the right to recognize a given client's ability to be compliant with Reg NMS directly, without the trader having to use the publicly available consolidated limit order book. Instead, these traders have direct feeds from each exchange and build the same limit order book faster than the official one is made. They perform their own compliance checks, and if their brokers believe this is true, then they are allowed to use the ISO flag on their orders, which allows them to post the order correctly. In our earlier example, the trader would have been able to hit the offer of \$100.00 on 3,000 shares and immediately be the highest priority, best bid for 2,000 shares at \$100.00.

ISOs exist solely because of the ban on locked markets within Reg NMS, coupled with the slow technology that is used by exchanges to remain compliant with NMS. This is a topic we will revisit in Chapter 16.

#### Large Order versus Small Order

Whether for market orders or for limit orders, the quant has to determine how much of a total order to send at once. Recall from our discussion of transaction cost models that a large order costs disproportionately more to execute than a small order because demand for liquidity starts eating into more and more expensive supplies of liquidity. As such, a common technique for automated execution involves taking a large transaction for, say, 100,000 shares of a stock, breaking it into 1,000 orders of 100 shares each, and spreading the orders out over a window of time. Of course, by spreading the order out over time, the trader runs the risk that the price may move more while the order is being spread out than it would have if it had been executed right away, even with the extra cost of market impact.

Generally, however, it is agreed that spreading out trades is a useful way to reduce the cost of transacting, and this is an extremely common feature in execution algorithms. The exact size of the chunks that are sent to market to be executed depends on the transaction cost model's estimate of the transaction cost of variously sized orders for the instrument in question. The determination of the size of each order is related to the analysis of the correct level of aggressiveness. Again, a highly attractive trade warrants taking on more of it quickly than a trade that is relatively less appealing.

But if not, this much aggressiveness in the order placement might not be necessary, and the transaction can be executed in a different manner. For example, a trader might find that taking whatever liquidity is available at the best offer (on a buy trade, for example) and then waiting for others to step in and offer the same price a moment later could allow the same volume of shares to be acquired at whatever the best offer was at the time that the first piece of the order was executed, rather than a worse average price achieved by sweeping through multiple levels of the order book.

#### Where to Send an Order

In some markets, there are several pools of liquidity for the same instruments. For example, BATS and Archipelago are currently two alternative pools of liquidity for trading U.S. stocks. There is a whole field of work in the area of *smart order routing*, which involves determining to which pool of liquidity it is best to send a given order at the current moment. Typically, the determination itself is straightforward. If one pool of liquidity has the units of a security you want for a better price than another pool of liquidity, you are better off routing the order to the first pool.

We described a problem with Reg NMS in "Other Order Types." The purpose of NMS was to mitigate the perceived problem of having different "best" prices for a given stock in different pools of liquidity, and it was enacted in 2007. One of the consequences of this rule is that the best bid and offer for a stock across any valid pool of liquidity must be displayed by all pools of liquidity concurrently. This somewhat mitigates the purpose of smart order routing in U.S. equities. However, there are many other markets in which a fragmented structure exists, and in those, the importance of smart order routing is unchanged. Further, there remain other temporal or longer‐lived differences between the various liquidity pools in U.S. equities. For example, the depth of liquidity for a given name may vary tremendously from moment to moment on various exchanges. There are also differing rebate and fee levels for providing or taking liquidity on various exchanges, so intelligence still needs to be applied to order routing even in the case of the U.S. equity market.

A more recent development in market structure is the increased role of so‐called *dark pools* to execute orders. Exchanges can be categorized as being *lit* or *dark*. Lit exchanges show market participants the prices and sizes of bids and offers available in the limit order book. Dark exchanges provide no such information. The most relevant feature of a dark pool is that it facilitates the execution of large orders, because orders placed on a dark pool are not revealed. Instead, if there is a buyer or seller who has placed an offer (for example) that takes the other side of a large trade, then the order executes at that price. But no investors other than the two parties that transacted know that the trade happened. Thinking back to what we described in "Aggressive versus Passive" about the shape of an order book factoring into a prospective participant's trading decision, giving no information about your order to the rest of the marketplace is clearly beneficial. In the U.S. equity market, it is estimated that more than 30 percent of volumes are now transacted on dark pools.5 Given the rise to prominence of dark liquidity pools, they require consideration in the forming of order routing logic.

It is worth noting that the term *dark liquidity* encapsulates any transactions that do not occur on the lit exchanges. For example, as we will discuss in more detail in Chapter 15, most retail orders are filled by contracted market makers, and these orders never actually make it to the exchange. Coupled with dark pool volumes, dark liquidity has been an increasing portion of the volumes in U.S. equities, which has made for an interesting storyline to watch. In some senses, there is a battle being waged between exchanges and dark pools, between exchanges and contractual market makers, and between contractual market makers and noncontractual market makers.

# Trading Infrastructure

We have already mentioned that, to execute and process electronic trades, connectivity needs to be set up between the trader and the exchange. Furthermore, a protocol for messages between these two parties is required. The hardware and software quants utilize in implementing their trading strategies are the final pieces of infrastructure. As in most things, quants face a choice between building or buying infrastructure in all three of these areas. Due to regulatory and other constraints, most traders utilize the services of independent brokerage firms that act as the trading agents for their strategies. One of the benefits of using a broker is that the infrastructure requirements are handled by that broker, and this infrastructure can be costly to replicate.

The most common type of exchange connectivity offered to a trader is, as already discussed, DMA access. This involves using the broker's servers and routing orders through them to the various pools of liquidity being traded. However, some quants, especially those engaged in high‐frequency strategies, utilize a more recently available form of connectivity called *colocation*. Brokers offer easy access to markets through DMA platforms, but they add a fair amount of latency to the process. Quant strategies that are sensitive to this latency utilize the colocation option as a way of improving their communication speeds. In a colocation setup, the trader attempts to place his trading servers as physically close to the exchange as possible. In many cases, this means hosting servers in the same data centers as those of the exchange. The reason for the desire for proximity is quite literally to cut down to as short as possible the distance that the order must travel—at the speed of light—over the communication lines between the quant's server and the exchange. A typical and relatively high‐quality DMA platform tends to cause between 10 and 30 milliseconds of delay between the time the order is sent from the quant's server and the time the order reaches the exchange. By contrast, a well‐designed colocation solution can have an order travel from the quant's server to the exchange in a fraction of a millisecond. For latency‐sensitive execution strategies, this can be a useful improvement.

In terms of communication, the most important piece of infrastructure in electronic trading is known as the *Financial Information eXchange* (FIX) protocol. The FIX protocol began in 1992 as a communications framework between Fidelity Investments and Salomon Brothers and has grown to become the method of choice for real‐time electronic communication among most of the world's banks, money managers using electronic executions, and exchanges offering electronic equities or futures trading. The FIX protocol is a standardized way for various participants in the trading process to communicate information. Considering that the number of order and execution messages is measured in billions per day, it is obviously critical to have a standard format for these communications. The FIX protocol is free and open source, but the software that implements the FIX protocol is known as a *FIX engine*, and not all FIX engines are created equal. Quants must choose whether to build or buy such engines, and a fair number of quants land in each camp. In general, quants who are extremely sensitive to latency, such as high‐frequency traders, will likely build their own customized FIX engines to ensure optimal speeds.

The final component of trading infrastructure relates to the hardware and software used. Again, quants can choose to build or to buy various solutions. For example, it is easy to buy computers built with standard hardware (such as microchips, data storage, etc.), utilize off‐the‐shelf order management systems (which process and manage trades), or utilize third‐party execution algorithms. On the other hand, some quant firms have customized their own microchips to perform specialized trading‐ related functions with greater speed than conventional, commercially available chips. It is generally found that such hardware customization allows greater speeds than any purely software‐based solution. However, it is a more rigid process, and unlike software, once hardware is customized, it is difficult to change.

Beyond this, quants attempt to make their algorithms, databases, and execution software leaner, to reduce the internal latency of processing market data and sending an order out to the market. Even the most fundamental choices about computers—for example, the operating system of choice—are considered. For instance, most quants use either Linux or UNIX operating systems because they are more easily configurable and more efficient and therefore provide better computing performance than a PC/Windows configuration. I remember some years ago having a quant firm describe to me their use of the processors that were used in the Sony Playstation 3, because it was a categorically faster processor than what was found in even a powerful PC or server. Since then, Graphics Processing Units (GPUs), which drive the video cards found in our computers, have been pressed into service for quant trading applications, because they are designed to operate at higher speeds than CPUs usually can.

# Summary

We have detailed a variety of issues related to the execution of orders for a quant trading strategy. The very first choice the quant must make is whether to build or buy a trading solution. The technical expertise and cost of building a world‐class execution infrastructure lead many quants, especially those utilizing longer‐term trading strategies or those trading smaller portfolios, to choose the route of buying these services, either from brokers or execution service providers. Both brokers and

![](_page_14_Figure_1.jpeg)

Exhibit 7.1 Schematic of the Black Box

execution vendors do, in fact, charge for the service of providing execution algorithms and connectivity. This charge normally is made by increasing commission costs. It can often cost five or more times as much per share to trade through a third party's algorithms than to trade using one's own. Thus, for traders who have expertise in this area and for those managing significant sums, it can be worthwhile to build custom execution models and infrastructure.

Execution is where the rubber meets the road for a quant system and how the quant interacts with the rest of the marketplace. This continues to be a fruitful area of research, as it has been ever since markets have begun to become electronic. This chapter concludes our stroll inside the black box, as we can see from Exhibit 7.1. We turn our attention now to understanding the data that feed quant trading strategies.

# Notes

- 1. In addition to the commissions earned by brokers from customers' trading volumes, brokers have other sources of revenue from the activities of their clients. For example, clearing fees also apply for management of settlement and holding positions for clients as a custodian. Stock loan fees also sometimes create revenue.
- 2. Adverse selection in the sense that applies to capital markets is defined as a situation in which there is a tendency for bad outcomes to occur, due to asymmetric information between a buyer and a seller. This is covered in greater detail in Chapter 14.