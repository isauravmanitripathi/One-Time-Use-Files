## Designing and<br>Developing Systems

 $\mathcal{T}$  ith the vast multitude of trading system software packages now available, designing your own trading system has never been easier. Of course, the popularity of packages such as TradeStation, NinjaTrader, and MultiCharts is both a blessing and a curse. These simple-to-use software programs make turning ideas into strategies easier than ever before. What used to take weeks to accomplish in Microsoft Excel or in a hardcore programming language (such as  $C$ ,  $C++$ , Visual Basic, or, for those older programmers out there, Fortran) now takes minutes or even seconds. Life is certainly easier in that respect.

The downside to this modern software—besides the fact that many people are testing millions of trading ideas every day and will likely discover any "edge" you find, eventually rendering it useless—is that trading software makes it too easy. Simply look a chart, insert a strategy—possibly one of the many standard strategies that come with the software—and you can quickly analyze and optimize to your heart's content.

Unfortunately, it is this simplicity that is also the Achilles' heel of the software. It is nearly impossible to create a viable strategy in the simplistic manner that trading software products describe. Taking the easy way may indeed give you a strategy with a terrific-looking back test, but when the strategy starts running live, all statistics turn bad. Perhaps this has happened to you, as it did to me in my earlier development days. I was adept at producing back tests that looked like the left side of Figure 5.3, only to turn them loose on the live market and experience the right side of the equity curve, which inevitably lost money.

 Another drawback to the simplicity of ease of use of these "retail" trading software packages is that many professional traders can't or won't use them. That should give pause to every retail trader who thinks the well‐known, commercially available package is the best. The fact is that many professionals are typically using far more sophisticated programming and analysis tools, such as R, Python, Matlab, and so on. Or they are developing their own platforms, from the ground up, using open source code available on the Internet. I'm not trying to imply that only professional software tools are good; rather, I am trying to alert traders to the fact that there are limitations and shortcomings to all trading software. If something does not provide the capability you need, either from an analysis, strategy development, or automation point of view, chances are very good that another, likely more expensive, software tool out there does provide it.

 Over the years, I've progressed from evaluating systems by hand to analyzing them via spreadsheet, to creating strategy evaluators in Fortran (the engineer in me) and Visual Basic, to primarily using TradeStation and NinjaTrader today. Along the way, I made many mistakes developing trading systems and had to pay the market "tuition" in the form of trading losses. Eventually, I fi nally got smart in how I developed trading systems. Now, I follow a multistep approach, as shown in Figure 8.1 . At each point of the process, there is a "gate"—criteria that a strategy must satisfy in order to advance to the next step. For strategies that fail along the way, small adjustments can be made to the strategy when appropriate. In most cases, however, it is better to place the strategy on the scrap heap and just move on to the next idea. Why? Many times, when a strategy doesn't work the fi rst time through the process, changes to it may inadvertently introduce curve fi tting, hindsight bias, or one of a million other strategy no‐nos. The deceiving part is that the back test will look better—possibly a great deal better. But remember that the goal is not to create a superb back test; rather, the goal is to create a back test that will refl ect the future performance of

![](_page_1_Figure_2.jpeg)

 **FIGURE 8.1** My Strategy Development Process

the strategy. Waterboarding or otherwise torturing your strategy until it gives great results is not a successful approach.

 Back in the old days, before I developed the process I now use, I did what most other people do: I picked a market, selected a bar interval and time period, put a few rules in a strategy, and then optimized. Whatever turned out to be best is what I started to trade with live. The magic of the computer, with its ability to quickly do millions of iterations, uncovered what I was sure would be riches. Boy, was I ever disappointed!

 Those early failures led me to a more involved, robust, and ideally trouble‐free development process. I can't take credit for any of the individual concepts—certainly, many traders before me long ago developed most of the steps of my process. One great classic reference on system development is the "bible" of system design: *The Evaluation and Optimization of Trading Strategies* , by Robert Pardo (John Wiley and Sons, 1992). I have simply tailored all I have learned and read to create something that feels right to me, and by and large it has yielded good results in real time.

 That is not to say it is an easy process for strategies to pass. When I fi rst started using the basic process I use today (I have enhanced and refi ned it over the years, and if anything it is more stringent today than it was a few years ago), it probably took me about 100 to 200 trading ideas for entries and exits before I found something worth trading. With time and experience, that number has dropped signifi cantly, but coming up with tradable strategies is not an easy task.

 Traders that are new to using walk‐forward analysis, Monte Carlo analysis, and the like frequently are frustrated by the diffi culty of discovering a strategy. My answer to that dilemma usually is: "But that is how it is supposed to be!" Think about it for a second—if it were easy to fi nd a strategy, don't you think others would have already found it and exploited it? There are thousands of traders and researchers out there every day looking for edges, mining data, and running tests. I guarantee you that all the easy strategies either no longer work or have been long ago discovered.

 My good trader friend, who is a Commodity Trading Advisor (CTA), once told me that if he fi nds one new strategy a year to trade, he is a happy camper. He should be, since even one strategy, with proper money management, can make you rich. But to get that one strategy per year takes a lot of work. I frequently think of the strategy development process as a factory. At the receiving door of the factory are your trading ideas and strategies, the raw material you constantly need to run the factory. Your analysis tools, back‐test software, and walk‐forward algorithms are the machines in the factory. You, of course, are the skilled labor running the machines, monitoring the quality of the product. The output usually fills a big garbage bin right outside your factory, unfortunately. But what isn't thrown away as garbage is pure gold: your tradable strategy.

 The factory metaphor is appropriate because strategy development is tough work. Factory workers are among the toughest people I know of, and that is how you need to be to develop strategies. I am always amazed by educators out there who gloss over strategy development. Instead, they focus on such nonsense as getting in touch with your feelings or writing everything down in a journal. Don't get me wrong those items have their time and place in trading, but they are no substitute for having a strategy with an edge. If you don't have a good strategy, all the journaling in the world will not save you. As an aside, it is ironic, though, that many times "soft" skills such as psychology or journaling will be indispensable to a trader with an edge. You really do need both to succeed.

 Since strategy development is a factory, you need to keep the factory running at all times. Here are some tips that I use or have used to keep things humming along:

- Any time you see a trading idea that intrigues you, write it down. Keep a list of ideas you want to test.
- Look for ideas anywhere. Trading books, magazines, and Internet forums are all good sources of raw ideas. I would not recommend taking an idea as presented and trading it exactly as is, though. I'd look to modify it fi rst, and put your own unique spin on it.
- No idea is too silly, too stupid, or too dumb. The only dumb ideas are the ones you never test.
- If you make a big mistake in your coding, test it anyway. I'm a big proponent of "accidental" mistakes. Maybe they are really serendipitous creations of your subconscious. It sounds crazy, I realize, but I have successfully traded, with real money, more than one of my programming mistakes.
- If things are going bad, try the opposite. Buy when you think you should sell, and vice versa. Maybe something interesting will develop from your opposite idea.
- If you are a goal setter, try to test one to fi ve strategies per week, at a minimum. It may take six months to a year of rigorous testing, but eventually you'll fi nd something.
- If you run out of ideas, pull up random charts and just stare at them. You can even add an indicator or two. After staring a while, but not thinking, walk away from those charts and revisit them a few days or a week later. Then start to think: do you see anything in the relationship of the indicator to the chart or in the chart itself? Write down what you see, program it, and test it.
- Find other traders at roughly the same skill level as you. Off er to swap ideas or strategies. Take what these traders have, and then build strategies around their idea. I do this frequently with some of my fellow World Cup Championship of Futures Trading winners.

 ■ Change your criteria. Maybe you are being too restrictive in what you consider acceptable. Open the door a bit to strategies that meet most, but not all, of your criteria. You can always tighten the criteria once your factory starts producing. If you loosen your criteria, don't necessarily trade the fi rst strategy that passes. The point of that really is to give you more experience and confi dence in developing "passing" systems. Then, tighten the criteria slowly, and ideally by then you'll be able to improve your systems to meet the tighter challenge. Keep repeating this, and eventually you'll have a strategy that meets your original criteria.

## ■ **Isn't It All Just Optimizing?**

 After reading the next few chapters about my process, you might wonder to yourself, "Isn't strategy development just all about optimizing?" That is a fair question, and in a way, all strategy development is. If you start out with 10 million strategies to test, chances are good that at least a few will make it through whatever performance hurdles you put in place, and emerge after incubation as a potential winning strategy. At that point, a few possibilities emerge regarding the strategy:

- You have a true edge, and you will be profi table trading it for at least a little while, until the edge disappears.
- You have overoptimized and overfi t the strategy to pass all the tests, but you have nothing that will really work in real time (this happens a lot to inexperienced developers).
- You have tested so many strategies that sooner or later one was bound to pass all your tests. You think this strategy has an edge, but it really doesn't. It is just random chance that you tried this particular strategy. Like a blind squirrel fi nding a nut once in a while, you simply got lucky!

 Obviously, you are looking for strategies that fi t into scenario 1. My process will help you avoid strategies in scenario 2 (although you can stretch the guidelines I give and end up overoptimizing). Scenario 3 is, in my mind, the scary alternative. With this scenario, you think you have an edge, but you really just got incredibly lucky. You'll never know for sure if this scenario applies. You could trade successfully for years with a lucky strategy, or you could lose money from day 1. You just never know what will happen.

My advice to avoid scenario 3—fi nding a "lucky" strategy:

 ■ Have a logical basis for your strategy. Think about your entries and exits and how they can give you an edge. Use your brain to exploit what you see in the market.

- Keep things as simple as possible. Typically, more rules and conditions lead to a greater chance that the strategy will not work in the future.
- Don't just stick random indicators together until you fi nd something that actually works. If you do enough of these tests, you will eventually fi nd something, but it is probably just a lucky catch. There are products out there that use this technique, and they can be very useful if used correctly. Just don't expect the computer to do all your strategy thinking for you.
- Gently optimize whatever you do.

 Sometimes I liken the strategy development process to fi shing. If you want to catch a catfi sh, one way would be to get a huge net, capture thousands of fi sh, and then just pick your catfi sh out of the pile of fi sh stuck in the net. That would be comparable to randomly testing a million strategies, and fi nding a few seemingly great ones. A better way might be to think about what catfi sh like, and tailor your bait and fi shing method to what you think might catch one. This is akin to developing an edge and then creating rules to exploit that edge. All things being equal, your chances of long‐term success are probably better with the latter method.

 In the chapters that follow, I detail the process I currently use to design and develop trading systems. Feel free to follow this exact process yourself, or just extract bits and pieces that apply to your situation. In either case, your development skills will improve by following what works for me.